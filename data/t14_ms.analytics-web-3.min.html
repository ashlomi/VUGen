/*!
 * 1DS JS SDK Analytics Web, 3.0.2
 * Copyright (c) Microsoft and contributors. All rights reserved.
 * (Microsoft Internal Only)
 */
var e=this,t=function(n){"use strict";var i="function",r="object",t="undefined",a="prototype",o="hasOwnProperty";function e(){return typeof globalThis!==t&&globalThis?globalThis:typeof self!==t&&self?self:typeof window!==t&&window?window:typeof global!==t&&global?global:null}function s(e){var t=Object.create;if(t)return t(e);if(null==e)return{};if((t=typeof e)!==r&&t!==i)throw new TypeError("Object prototype may only be an Object:"+e);function n(){}return n[a]=e,new n}var c=function(e,t){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t[o](n)&&(e[n]=t[n])})(e,t)};zt=function(e,t){function n(){this.constructor=e}c(e,t),e[a]=null===t?s(t):(n[a]=t[a],new n)},(bn=Ht=e()||{}).__assign||(bn.__assign=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object[a][o].call(t,r)&&(e[r]=t[r]);return e}),bn.__extends||(bn.__extends=zt),__assign=__assign||Ht.__assign,__extends=__extends||Ht.__extends;var U={Unknown:0,NonRetryableStatus:1,InvalidEvent:2,SizeLimitExceeded:3,KillSwitch:4,QueueFull:5},u=t,h=r,l=a,p="window",f="document",d="navigator",g="location",m="console",v="JSON",y=e;function I(e){var t=y();return t&&t[e]?t[e]:e===p&&T()?window:null}function T(){return typeof window===h&&window}function C(){return T()?window:I(p)}function E(){return typeof document===h&&document?document:I(f)}function S(){return!(typeof navigator!==h||!navigator)}function B(){return S()?navigator:I(d)}function z(){return typeof location===h&&location?location:I(g)}function N(){return I("performance")}function _(){return typeof JSON===h&&JSON||null!==I(v)}function b(){return _()?JSON||I(v):null}var x="attachEvent",w="addEventListener",A="detachEvent",P="removeEventListener",O=4294967296,D=4294967295,k=null,L=!1,R=123456789,M=987654321;function V(e){e<0&&(e>>>=0),R=123456789+e&D,M=987654321-e&D,L=!0}function F(){V(Math.random()*O^(new Date).getTime())}function H(e,t){return typeof e===t}function G(e){return H(e,t)||e===undefined}function W(e){return G(e)||null===e}function K(e,t){return e&&Object[a].hasOwnProperty.call(e,t)}function q(e){return H(e,r)}function j(e){return H(e,i)}function X(e,t,n,i){void 0===i&&(i=!1);var r=!1;if(!W(e))try{W(e[w])?W(e[x])||(e[x]("on"+t,n),r=!0):(e[w](t,n,i),r=!0)}catch(a){}return r}function Y(e,t,n,i){if(void 0===i&&(i=!1),!W(e))try{W(e[P])?W(e[A])||e[A]("on"+t,n):e[P](t,n,i)}catch(r){}}function J(e,t,n,i){var r=Object.defineProperty;if(r)try{var a={enumerable:!0,configurable:!0};return n&&(a.get=n),i&&(a.set=i),r(e,t,a),!0}catch(o){}return!1}function Q(e,t){if(e&&q(e))for(var n in e)K(e,n)&&t.call(e,n,e[n])}function Z(i,r,a){if(i&&r&&i!==r&&q(i)&&q(r))for(var e in r)!function(t){var e,n;$.isString(t)&&(j(e=r[t])?a&&!a(t,!0,r,i)||(i[t]=(n=t,function(){var e=arguments;return r[n].apply(r,e)})):a&&!a(t,!1,r,i)||(K(i,t)&&delete i[t],J(i,t,function(){return r[t]},function(e){r[t]=e})||(i[t]=e)))}(e);return i}var $=(ee.isDate=function(e){return"[object Date]"===Object[a].toString.call(e)},ee.isArray=function(e){return"[object Array]"===Object[a].toString.call(e)},ee.isError=function(e){return"[object Error]"===Object[a].toString.call(e)},ee.isString=function(e){return H(e,"string")},ee.isNumber=function(e){return H(e,"number")},ee.isBoolean=function(e){return H(e,"boolean")},ee.disableCookies=function(){ee._canUseCookies=!1},ee.newGuid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(ne,function(e){var t=0|ee.randomValue(15);return("x"===e?t:3&t|8).toString(16)})},ee.toISOString=function(e){if(ee.isDate(e)){var t=function(e){return 1===(e+="").length?"0"+e:e};return e.getUTCFullYear()+"-"+t(1+e.getUTCMonth())+"-"+t(e.getUTCDate())+"T"+t(e.getUTCHours())+":"+t(e.getUTCMinutes())+":"+t(e.getUTCSeconds())+"."+((e.getUTCMilliseconds()/1e3).toFixed(3)+"").slice(2,5)+"Z"}},ee.arrForEach=function(e,t,n){for(var i=e.length,r=0;r<i;r++)r in e&&t.call(n||e,e[r],r,e)},ee.arrIndexOf=function(e,t,n){for(var i=e.length,r=Math.max(0<=(n=n||0)?n:i-Math.abs(n),0);r<i;r++)if(r in e&&e[r]===t)return r;return-1},ee.arrMap=function(e,t,n){for(var i=e.length,r=n||e,a=Array(i),o=0;o<i;o++)o in e&&(a[o]=t.call(r,e[o],e));return a},ee.arrReduce=function(e,t,n){var i,r=e.length,a=0;if(3<=arguments.length)i=n;else{for(;a<r&&!(a in e);)a++;i=e[a++]}for(;a<r;)a in e&&(i=t(i,e[a],a,e)),a++;return i},ee.strTrim=function(e){return ee.isString(e)?e.replace(/^\s+|\s+$/g,""):e},ee.objKeys=function(e){var t=!{toString:null}.propertyIsEnumerable("toString");if(!(j(e)||q(e)&&null!==e))throw new TypeError("objKeys called on non-object");var n,i=[];for(n in e)K(e,n)&&i.push(n);if(t)for(var r=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],a=r.length,o=0;o<a;o++)K(e,r[o])&&i.push(r[o]);return i},ee.addEventHandler=function(e,t){var n=!1,i=C();return i&&(n=X(i,e,t),n=X(i.body,e,t)||n),(i=E())&&ie.Attach(i,e,t)||n},ee.dateNow=function(){var e=Date;return e.now?e.now():(new e).getTime()},ee.perfNow=function(){var e=N();return e&&e.now?e.now():ee.dateNow()},ee.newId=function(e){void 0===e&&(e=22);for(var t=ee.random32()>>>0,n=0,i="";i.length<e;)i+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[0|63&t],t>>>=6,5==++n&&(t=(ee.random32()<<2&4294967295|3&t)>>>0,n=0);return i},ee.isIE=function(){var e;return null===k&&(e=((B()||{}).userAgent||"").toLowerCase(),k=!!~e.indexOf("msie")||!!~e.indexOf("trident/")),k},ee.randomValue=function(e){return 0<e?Math.floor(ee.random32()/D*(e+1))>>>0:0},ee.random32=function(e){var t=(t=I("crypto")||I("msCrypto"))&&t.getRandomValues?t.getRandomValues(new Uint32Array(1))[0]&D:ee.isIE()?(L||F(),ee.mwcRandom32()&D):Math.floor(O*Math.random()|0);return e||(t>>>=0),t},ee.mwcRandomSeed=function(e){e?V(e):F()},ee.mwcRandom32=function(e){var t=((M=36969*(65535&M)+(M>>16)&D)<<16)+(65535&(R=18e3*(65535&R)+(R>>16)&D))>>>0&D|0;return e||(t>>>=0),t},ee.generateW3CId=function(){for(var e,t=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],n="",i=0;i<4;i++)n+=t[15&(e=ee.random32())]+t[e>>4&15]+t[e>>8&15]+t[e>>12&15]+t[e>>16&15]+t[e>>20&15]+t[e>>24&15]+t[e>>28&15];var r=t[8+(3&ee.random32())|0];return n.substr(0,8)+n.substr(9,4)+"4"+n.substr(13,3)+r+n.substr(16,3)+n.substr(19,12)},ee.isTypeof=H,ee.isUndefined=G,ee.isNullOrUndefined=W,ee.hasOwnProperty=K,ee.isFunction=j,ee.isObject=q,ee.objCreate=s,ee.objDefineAccessors=J,ee);function ee(){}var te,ne=/[xy]/g,ie=(re.Attach=X,re.AttachEvent=X,re.Detach=Y,re.DetachEvent=Y,re);function re(){}(Gt=te=te||{})[Gt.CRITICAL=1]="CRITICAL",Gt[Gt.WARNING=2]="WARNING";var ae={BrowserDoesNotSupportLocalStorage:0,BrowserCannotReadLocalStorage:1,BrowserCannotReadSessionStorage:2,BrowserCannotWriteLocalStorage:3,BrowserCannotWriteSessionStorage:4,BrowserFailedRemovalFromLocalStorage:5,BrowserFailedRemovalFromSessionStorage:6,CannotSendEmptyTelemetry:7,ClientPerformanceMathError:8,ErrorParsingAISessionCookie:9,ErrorPVCalc:10,ExceptionWhileLoggingError:11,FailedAddingTelemetryToBuffer:12,FailedMonitorAjaxAbort:13,FailedMonitorAjaxDur:14,FailedMonitorAjaxOpen:15,FailedMonitorAjaxRSC:16,FailedMonitorAjaxSend:17,FailedMonitorAjaxGetCorrelationHeader:18,FailedToAddHandlerForOnBeforeUnload:19,FailedToSendQueuedTelemetry:20,FailedToReportDataLoss:21,FlushFailed:22,MessageLimitPerPVExceeded:23,MissingRequiredFieldSpecification:24,NavigationTimingNotSupported:25,OnError:26,SessionRenewalDateIsZero:27,SenderNotInitialized:28,StartTrackEventFailed:29,StopTrackEventFailed:30,StartTrackFailed:31,StopTrackFailed:32,TelemetrySampledAndNotSent:33,TrackEventFailed:34,TrackExceptionFailed:35,TrackMetricFailed:36,TrackPVFailed:37,TrackPVFailedCalc:38,TrackTraceFailed:39,TransmissionFailed:40,FailedToSetStorageBuffer:41,FailedToRestoreStorageBuffer:42,InvalidBackendResponse:43,FailedToFixDepricatedValues:44,InvalidDurationValue:45,TelemetryEnvelopeInvalid:46,CreateEnvelopeError:47,CannotSerializeObject:48,CannotSerializeObjectNonSerializable:49,CircularReferenceDetected:50,ClearAuthContextFailed:51,ExceptionTruncated:52,IllegalCharsInName:53,ItemNotInArray:54,MaxAjaxPerPVExceeded:55,MessageTruncated:56,NameTooLong:57,SampleRateOutOfRange:58,SetAuthContextFailed:59,SetAuthContextFailedAccountName:60,StringValueTooLong:61,StartCalledMoreThanOnce:62,StopCalledWithoutStart:63,TelemetryInitializerFailed:64,TrackArgumentsNotSpecified:65,UrlTooLong:66,SessionStorageBufferFull:67,CannotAccessCookie:68,IdTooLong:69,InvalidEvent:70,FailedMonitorAjaxSetRequestHeader:71,SendBrowserInfoOnUserInit:72,PluginException:73,NotificationException:74,SnippetScriptLoadFailure:99,InvalidInstrumentationKey:100,CannotParseAiBlobValue:101,InvalidContentBlob:102,TrackPageActionEventFailed:103},oe="constructor",se="prototype",ce="function",ue="_dynInstFuncs",le="_isDynProxy",pe="_dynClass",fe="_dynCls$",de="_dynInstChk",ge=de,he="_dfOpts",me="_unknown_",ve="__proto__",ye="useBaseInst",Ie="setInstFuncs",Te=Object.getPrototypeOf,Ce=0;function Ee(e,t){return e&&Object[se].hasOwnProperty.call(e,t)}function Se(e){return typeof e===ce}function Ne(e){return e&&(e===Object[se]||e===Array[se])}function _e(e){return Ne(e)||e===Function[se]}function be(e){if(e){if(Te)return Te(e);if(e=e[ve]||e[se]||e[oe])return e}return null}function xe(e,t,n){return t!==oe&&Se(e[t])&&(n||Ee(e,t))}function we(e){throw new TypeError("DynamicProto: "+e)}function Ae(e,t){for(var n=e.length-1;0<=n;n--)if(e[n]===t)return 1}function Pe(e,t){return Ee(e,se)?e.name||t||me:((e||{})[oe]||{}).name||t||me}function Oe(e,n,t,i){Ee(e,se)||we("theClass is an invalid class definition.");var r=e[se];!function(e){for(var t=be(n);t&&!_e(t);){if(t===e)return 1;t=be(t)}}(r)&&we("["+Pe(e)+"] is not in class hierarchy of ["+Pe(n)+"]");var a=null;Ee(r,pe)?a=r[pe]:(a=fe+Pe(e,"_")+"$"+Ce,Ce++,r[pe]=a);var o=Oe[he],s=!!o[ye];s&&i&&i[ye]!==undefined&&(s=!!i[ye]),t(n,function(e,t,n,a){function i(e,t,n){var i,r=t[c];return r[le]&&a&&!1!==(i=e[ue]||{})[ge]&&(r=(i[t[pe]]||{})[n]||r),function(){return r.apply(e,arguments)}}var r={};for(c in n)r[c]=i(t,n,c);for(var o=be(e),s=[];o&&!_e(o)&&!Ae(s,o);){for(var c in o)!r[c]&&xe(o,c,!Te)&&(r[c]=i(t,o,c));s.push(o),o=be(o)}return r}(r,n,e=function(e){var t,n={};for(t in e)!n[t]&&xe(e,t,!1)&&(n[t]=e[t]);return n}(n),s)),function(e,t,n,i,r){if(!Ne(e)){var a,o=n[ue]=n[ue]||{},s=o[t]=o[t]||{};for(a in!1!==o[ge]&&(o[ge]=!!r),n)xe(n,a,!1)&&n[a]!==i[a]&&(s[a]=n[a],delete n[a],Ee(e,a)&&(!e[a]||e[a][le])||(e[a]=function(n,i){var r=function(){var e,t;return(function(e,t,n,i){var r=null;if(e&&Ee(n,pe)){var a=e[ue]||{};if((r=(a[n[pe]]||{})[t])||we("Missing ["+t+"] "+ce),!r[de]&&!1!==a[ge]){for(var o=!Ee(e,t),s=be(e),c=[];o&&s&&!_e(s)&&!Ae(c,s);){var u=s[t];if(u){o=u===i;break}c.push(s),s=be(s)}try{o&&(e[t]=r),r[de]=1}catch(l){a[ge]=!1}}}return r}(this,i,n,r)||(Se(t=(t=n[e=i])===r?be(n)[e]:t)||we("["+e+"] is not a "+ce),t)).apply(this,arguments)};return r[le]=1,r}(e,a)))}}(r,a,n,e,!1!==(o=(o=!!Te&&!!o[Ie])&&i?!!i[Ie]:o))}Oe[he]={setInstFuncs:!0,useBaseInst:!0};var De="AITR_";function ke(e){return e?'"'+e.replace(/\"/g,"")+'"':""}var Le=(Re.dataType="MessageData",Re);function Re(e,t,n,i){void 0===n&&(n=!1),this.messageId=e,this.message=(n?"AI: ":"AI (Internal): ")+e,e="",_()&&(e=b().stringify(i)),e=(t?" message:"+ke(t):"")+(i?" props:"+ke(e):""),this.message+=e}var Me=(Ue.prototype.enableDebugExceptions=function(){return!1},Ue.prototype.consoleLoggingLevel=function(){return 0},Ue.prototype.telemetryLoggingLevel=function(){return 1},Ue.prototype.maxInternalMessageLimit=function(){return 25},Ue.prototype.throwInternal=function(e,t,n,i,r){},Ue.prototype.warnToConsole=function(e){},Ue.prototype.resetInternalMessageCount=function(){},Ue.prototype.logInternalMessage=function(e,t){},Ue);function Ue(r){this.identifier="DiagnosticLogger",this.queue=[];var s=0,c={};Oe(Ue,this,function(a){var n=$.isNullOrUndefined,o=$.isUndefined,i=$.isFunction;function e(e,t){return e=r[e],n(e)?t:e}n(r)&&(r={}),a.consoleLoggingLevel=function(){return e("loggingLevelConsole",0)},a.telemetryLoggingLevel=function(){return e("loggingLevelTelemetry",1)},a.maxInternalMessageLimit=function(){return e("maxMessageLimit",25)},a.enableDebugExceptions=function(){return e("enableDebugExceptions",!1)},a.throwInternal=function(e,t,n,i,r){if(i=new Le(t,n,r=void 0!==r&&r,i),a.enableDebugExceptions())throw i;!o(i)&&i&&(o(i.message)||(r?(r=+i.messageId,!c[r]&&a.consoleLoggingLevel()>=te.WARNING&&(a.warnToConsole(i.message),c[r]=!0)):a.consoleLoggingLevel()>=te.WARNING&&a.warnToConsole(i.message),a.logInternalMessage(e,i)))},a.warnToConsole=function(e){var t,n=typeof console!==u?console:I(m);n&&(t="log",n.warn&&(t="warn"),i(n[t])&&n[t](e))},a.resetInternalMessageCount=function(){s=0,c={}},a.logInternalMessage=function(e,t){var n,i;s>=a.maxInternalMessageLimit()||(n=!0,i=De+t.messageId,c[i]?n=!1:c[i]=!0,n&&(e<=a.telemetryLoggingLevel()&&(a.queue.push(t),s++),s===a.maxInternalMessageLimit()&&(e="Internal events throttle limit per PageView reached for this app.",t=new Le(ae.MessageLimitPerPVExceeded,e,!1),a.queue.push(t),a.warnToConsole(e))))}})}var Ve="ctx",Fe=(Be.ParentContextKey="parent",Be.ChildrenContextKey="childEvts",Be);function Be(e,r,t){var n,a=this,o=!1;a.start=$.dateNow(),a.name=e,a.isAsync=t,a.isChildEvt=function(){return!1},$.isFunction(r)&&(o=$.objDefineAccessors(a,"payload",function(){return!n&&$.isFunction(r)&&(n=r(),r=null),n})),a.getCtx=function(e){return e?(e===Be.ParentContextKey||e===Be.ChildrenContextKey?a:a[Ve]||{})[e]:null},a.setCtx=function(e,t){e&&(e===Be.ParentContextKey?(a[e]||(a.isChildEvt=function(){return!0}),a[e]=t):e===Be.ChildrenContextKey?a[e]=t:(a[Ve]=a[Ve]||{})[e]=t)},a.complete=function(){var e=0,t=a.getCtx(Be.ChildrenContextKey);if($.isArray(t))for(var n=0;n<t.length;n++){var i=t[n];i&&(e+=i.time)}a.time=$.dateNow()-a.start,a.exTime=a.time-e,a.complete=function(){},!o&&$.isFunction(r)&&(a.payload=r())}}var ze=(He.prototype.create=function(e,t,n){return null},He.prototype.fire=function(e){},He.prototype.setCtx=function(e,t){},He.prototype.getCtx=function(e){},He);function He(t){this.ctx={},Oe(He,this,function(n){n.create=function(e,t,n){return new Fe(e,t,n)},n.fire=function(e){e&&(e.complete(),t&&t.perfEvent(e))},n.setCtx=function(e,t){e&&((n[Ve]=n[Ve]||{})[e]=t)},n.getCtx=function(e){return(n[Ve]||{})[e]}})}var Ge="CoreUtils.doPerf";function We(e,t,n,i,r){if(e){var a=e;if(a=a&&$.isFunction(a.getPerfMgr)?a.getPerfMgr():a){var o,s=void 0,c=a.getCtx(Ge);try{if(s=a.create(t(),i,r))return c&&s.setCtx&&(s.setCtx(Fe.ParentContextKey,c),c.getCtx&&c.setCtx&&((o=c.getCtx(Fe.ChildrenContextKey))||(o=[],c.setCtx(Fe.ChildrenContextKey,o)),o.push(s))),a.setCtx(Ge,s),n(s)}catch(u){s&&s.setCtx&&s.setCtx("exception",u)}finally{s&&a.fire(s),a.setCtx(Ge,c)}}}return n()}var Ke=$.isFunction,qe=function(r,t){var a=this,o=null,s=Ke(r.processTelemetry),c=Ke(r.setNextPlugin);a._hasRun=!1,a.getPlugin=function(){return r},a.getNext=function(){return o},a.setNext=function(e){o=e},a.processTelemetry=function(n,i){i=i||t;var e=r?r.identifier:"TelemetryPluginChain";We(i?i.core():null,function(){return e+":processTelemetry"},function(){if(r&&s){a._hasRun=!0;try{i.setNext(o),c&&r.setNextPlugin(o),o&&(o._hasRun=!1),r.processTelemetry(n,i)}catch(t){var e=o&&o._hasRun;o&&e||i.diagLog().throwInternal(te.CRITICAL,ae.PluginException,"Plugin ["+r.identifier+"] failed during processTelemetry - "+t),o&&!e&&o.processTelemetry(n,i)}}else o&&(a._hasRun=!0,o.processTelemetry(n,i))},function(){return{item:n}},!n.sync)}},je=$.isNullOrUndefined;function Xe(e,t){var n=[];if(e&&0<e.length)for(var i=null,r=0;r<e.length;r++){var a=e[r];a&&$.isFunction(a.processTelemetry)&&(a=new qe(a,t),n.push(a),i&&i.setNext(a),i=a)}return 0<n.length?n[0]:null}var Ye=function ts(e,r,n,t){var i,a,o,s,c=this,u=null;null!==t&&(e&&$.isFunction(e.getPlugin)?u=function(e,t,n){var i=[],r=!n;if(e)for(;e;){var a=e.getPlugin();!r&&a!==n||(r=!0,i.push(a)),e=e.getNext()}return r||i.push(n),Xe(i,t)}(e,c,t||e.getPlugin()):t?(i=c,o=e,s=!1,(a=t)&&e&&(o=[],$.arrForEach(e,function(e){!s&&e!==a||(s=!0,o.push(e))})),a&&!s&&(o=o||[]).push(a),u=Xe(o,i)):$.isUndefined(t)&&(u=Xe(e,c))),c.core=function(){return n},c.diagLog=function(){return(n||{}).logger||new Me(r||{})},c.getCfg=function(){return r},c.getExtCfg=function(e,t){var n,i;return void 0===t&&(t={}),!r||(i=r.extensionConfig)&&e&&(n=i[e]),n||t},c.getConfig=function(e,t,n){var i;return void 0===n&&(n=!1),(e=c.getExtCfg(e,null))&&!je(e[t])?i=e[t]:r&&!je(r[t])&&(i=r[t]),je(i)?n:i},c.hasNext=function(){return null!=u},c.getNext=function(){return u},c.setNext=function(e){u=e},c.processNext=function(e){var t=u;t&&(u=t.getNext(),t.processTelemetry(e,c))},c.createNew=function(e,t){return new ts((e=void 0===e?null:e)||u,r,n,t)}},Je=$.isFunction,Qe="getPlugin",Ze=($e.prototype.initialize=function(e,t,n,i){this._baseTelInit(e,t,n,i)},$e);function $e(){var a=this,o=!1,s=null,c=null;a.core=null,a.diagLog=function(e){return a._getTelCtx(e).diagLog()},a.isInitialized=function(){return o},a.setInitialized=function(e){o=e},a.setNextPlugin=function(e){c=e},a.processNext=function(e,t){t?t.processNext(e):c&&Je(c.processTelemetry)&&c.processTelemetry(e,null)},a._getTelCtx=function(e){var t=e=void 0===e?null:e;return t||(e=s||new Ye(null,{},a.core),t=c&&c[Qe]?e.createNew(null,c[Qe]):e.createNew(null,c)),t},a._baseTelInit=function(e,t,n,i){e&&(e.extensionConfig=e.extensionConfig||[]),!i&&t&&(i=t.getProcessTelContext().getNext());var r=c;c&&c[Qe]&&(r=c[Qe]()),a.core=t,s=new Ye(i,e,t,r),o=!0}}var et=$.isFunction,tt="processTelemetry",nt="priority",it="setNextPlugin",rt="isInitialized";function at(t,n){for(var e=[],i=null,r=t.getNext();r;){var a=r.getPlugin();a&&(i&&et(i[it])&&et(a[tt])&&i[it](a),et(a[rt])&&a[rt]()||e.push(a),i=a,r=r.getNext())}$.arrForEach(e,function(e){e.initialize(t.getCfg(),t.core(),n,t.getNext())})}function ot(e){return e.sort(function(e,t){var n=0,i=et(t[tt]);return et(e[tt])?n=i?e[nt]-t[nt]:1:i&&(n=-1),n})}var st,ct=500,ut="Channel has invalid priority",lt=$.objDefineAccessors,pt=(st=Ze,__extends(ft,st),ft.prototype.processTelemetry=function(e,t){},ft.prototype.getChannelControls=function(){return null},ft.prototype.initialize=function(e,t,n){},ft._staticInit=(lt(ft.prototype,"ChannelControls",ft.prototype.getChannelControls),void lt(ft.prototype,"channelQueue",ft.prototype.getChannelControls)),ft);function ft(){var i=st.call(this)||this;i.identifier="ChannelControllerPlugin",i.priority=ct;var c,u=$.arrForEach;function l(e){e&&0<e.length&&(e=e.sort(function(e,t){return e.priority-t.priority}),u(e,function(e){if(e.priority<ct)throw Error(ut+e.identifier)}),c.push(e))}return Oe(ft,i,function(o,s){o.setNextPlugin=function(e){},o.processTelemetry=function(t,n){c&&u(c,function(e){0<e.length&&i._getTelCtx(n).createNew(e).processNext(t)})},o.getChannelControls=function(){return c},o.initialize=function(t,n,i){var e,r,a;o.isInitialized()||(s.initialize(t,n,i),t.isCookieUseDisabled&&$.disableCookies(),r=i,c=[],(e=(t||{}).channels)&&u(e,l),r&&(a=[],u(r,function(e){e.priority>ct&&a.push(e)}),l(a)),u(c,function(e){return at(new Ye(e,t,n),i)}))}}),i}var dt="Extensions must provide callback to initialize",gt=$.arrForEach,ht=$.isNullOrUndefined,mt="_notificationManager",vt=(yt.prototype.initialize=function(e,t,n,i){},yt.prototype.getTransmissionControls=function(){return null},yt.prototype.track=function(e){},yt.prototype.getProcessTelContext=function(){return null},yt.prototype.getNotifyMgr=function(){return null},yt.prototype.getPerfMgr=function(){return null},yt.prototype.setPerfMgr=function(e){},yt.prototype.eventCnt=function(){return 0},yt.prototype.releaseQueue=function(){},yt);function yt(){var t,s,c,n,u=!1;Oe(yt,this,function(o){o._extensions=[],s=new pt,o.logger=$.objCreate({throwInternal:function(e,t,n,i,r){},warnToConsole:function(e){},resetInternalMessageCount:function(){}}),t=[],o.isInitialized=function(){return u},o.initialize=function(e,t,i,n){if(o.isInitialized())throw Error("Core should not be initialized more than once");if(!e||ht(e.instrumentationKey))throw Error("Please provide instrumentation key");c=n,o[mt]=n,o.config=e||{},e.extensions=ht(e.extensions)?[]:e.extensions,(e.extensionConfig=ht(e.extensionConfig)?{}:e.extensionConfig).NotificationManager=n,i&&(o.logger=i),(n=[]).push.apply(n,t.concat(e.extensions)),n=ot(n);var r=[],a={};if(gt(n,function(e){if(ht(e)||ht(e.initialize))throw Error(dt);var t=e.priority,n=e.identifier;e&&t&&(ht(a[t])?a[t]=n:i.warnToConsole("Two extensions have same priority #"+t+" - "+a[t]+", "+n)),(!t||t<s.priority)&&r.push(e)}),n.push(s),r.push(s),n=ot(n),o._extensions=n,at(new Ye([s],e,o),n),at(new Ye(r,e,o),n),o._extensions=r,0===o.getTransmissionControls().length)throw Error("No channels available");u=!0,o.releaseQueue()},o.getTransmissionControls=function(){return s.getChannelControls()},o.track=function(e){e.iKey||(e.iKey=o.config.instrumentationKey),e.time||(e.time=$.toISOString(new Date)),ht(e.ver)&&(e.ver="4.0"),o.isInitialized()?o.getProcessTelContext().processNext(e):t.push(e)},o.getProcessTelContext=function(){var e=o._extensions,t=e;return e&&0!==e.length||(t=[s]),new Ye(t,o.config,o)},o.getNotifyMgr=function(){return c||(c=$.objCreate({addNotificationListener:function(e){},removeNotificationListener:function(e){},eventsSent:function(e){},eventsDiscarded:function(e,t){},eventsSendRequest:function(e,t){}}),o[mt]=c),c},o.getPerfMgr=function(){return n||o.config&&o.config.enablePerfMgr&&(n=new ze(o.getNotifyMgr())),n},o.setPerfMgr=function(e){n=e},o.eventCnt=function(){return t.length},o.releaseQueue=function(){0<t.length&&(gt(t,function(e){o.getProcessTelContext().processNext(e)}),t=[])}})}var It=(Tt.prototype.addNotificationListener=function(e){},Tt.prototype.removeNotificationListener=function(e){},Tt.prototype.eventsSent=function(e){},Tt.prototype.eventsDiscarded=function(e,t){},Tt.prototype.eventsSendRequest=function(e,t){},Tt);function Tt(e){this.listeners=[];var a=$.arrForEach,t=!!(e||{}).perfEvtsSendAll;Oe(Tt,this,function(r){r.addNotificationListener=function(e){r.listeners.push(e)},r.removeNotificationListener=function(e){for(var t=$.arrIndexOf(r.listeners,e);-1<t;)r.listeners.splice(t,1),t=$.arrIndexOf(r.listeners,e)},r.eventsSent=function(t){a(r.listeners,function(e){e&&e.eventsSent&&setTimeout(function(){return e.eventsSent(t)},0)})},r.eventsDiscarded=function(t,n){a(r.listeners,function(e){e&&e.eventsDiscarded&&setTimeout(function(){return e.eventsDiscarded(t,n)},0)})},r.eventsSendRequest=function(n,i){a(r.listeners,function(e){if(e&&e.eventsSendRequest)if(i)setTimeout(function(){return e.eventsSendRequest(n,i)},0);else try{e.eventsSendRequest(n,i)}catch(t){}})},r.perfEvent=function(n){n&&(!t&&n.isChildEvt()||a(r.listeners,function(e){if(e&&e.perfEvent)if(n.isAsync)setTimeout(function(){return e.perfEvent(n)},0);else try{e.perfEvent(n)}catch(t){}}))}})}var Ct,Et=(Ct=vt,__extends(St,Ct),St.prototype.initialize=function(e,t,n,i){},St.prototype.track=function(e){},St.prototype.addNotificationListener=function(e){},St.prototype.removeNotificationListener=function(e){},St.prototype.pollInternalLogs=function(e){return 0},St);function St(){var e=Ct.call(this)||this;return Oe(St,e,function(n,r){function t(e){var t=n.getNotifyMgr();t&&t.eventsDiscarded([e],U.InvalidEvent)}n.initialize=function(e,t,n,i){r.initialize(e,t,n||new Me(e),i||new It(e))},n.track=function(e){We(n.getPerfMgr(),function(){return"AppInsightsCore:track"},function(){if(null===e)throw t(e),Error("Invalid telemetry item");!function(e){if($.isNullOrUndefined(e.name))throw t(e),Error("telemetry name required")}(e),r.track(e)},function(){return{item:e}},!e.sync)},n.addNotificationListener=function(e){var t=n.getNotifyMgr();t&&t.addNotificationListener(e)},n.removeNotificationListener=function(e){var t=n.getNotifyMgr();t&&t.removeNotificationListener(e)},n.pollInternalLogs=function(t){var e=n.config.diagnosticLogInterval;return setInterval(function(){var e=n.logger?n.logger.queue:[];$.arrForEach(e,function(e){e={name:t||"InternalMessageId: "+e.messageId,iKey:n.config.instrumentationKey,time:$.toISOString(new Date),baseType:Le.dataType,baseData:{message:e.message}},n.track(e)}),e.length=0},e=e&&0<e?e:1e4)}}),e}var Nt={NotSet:0,Pii_DistinguishedName:1,Pii_GenericData:2,Pii_IPV4Address:3,Pii_IPv6Address:4,Pii_MailSubject:5,Pii_PhoneNumber:6,Pii_QueryString:7,Pii_SipAddress:8,Pii_SmtpAddress:9,Pii_Identity:10,Pii_Uri:11,Pii_Fqdn:12,Pii_IPV4AddressLegacy:13,CustomerContent_GenericContent:32},_t={Normal:1,CostDeferred:2,RealTime:3},bt={Unspecified:0,String:1,Int32:2,UInt32:3,Int64:4,UInt64:5,Double:6,Bool:7,Guid:8,DateTime:9},xt=__assign(__assign({},ae),{AuthHandShakeError:501,AuthRedirectFail:502,BrowserCannotReadLocalStorage:503,BrowserCannotWriteLocalStorage:504,BrowserDoesNotSupportLocalStorage:505,CannotParseBiBlobValue:506,CannotParseDataAttribute:507,CVPluginNotAvailable:508,DroppedEvent:509,ErrorParsingAISessionCookie:510,ErrorProvidedChannels:511,FailedToGetCookies:512,FailedToInitializeCorrelationVector:513,FailedToInitializeSDK:514,InvalidContentBlob:515,InvalidCorrelationValue:516,SessionRenewalDateIsZero:517,SendPostOnCompleteFailure:518,PostResponseHandler:519}),wt="1DS-Web-JS-3.0.2",At="undefined",Pt="prototype",Ot=((bn={})[0]=bt.Unspecified,bn[2]=bt.Double,bn[1]=bt.String,bn[3]=bt.Bool,bn[4098]=bt.Double,bn[4097]=bt.String,bn[4099]=bt.Bool,bn),Dt=null,kt=$.isUndefined,Lt=$.isNullOrUndefined;function Rt(e){return!kt(e)}var Mt,Ut=$.hasOwnProperty,Vt=null,Ft=null,Bt=$.arrForEach,zt=$.arrIndexOf,Ht=$.arrMap,Gt=$.arrReduce,Wt=$.objKeys,lt=$.toISOString,Kt=function(){var e=B();return!(!e||!e.product)&&"ReactNative"===e.product},qt=$.isString,jt=$.isNumber,Xt=$.isBoolean,Yt=$.isFunction,Jt=$.isArray,Qt=$.isObject,Zt=$.strTrim,$t=!!E(),en=!!C();function tn(e){return!(Lt(e)||""===e)}function nn(e){if(e){var t=e.indexOf("-");if(-1<t)return e.substring(0,t)}return""}function rn(){return Vt=null===Vt?S()&&!!B().sendBeacon:Vt}function an(e){return!!(e&&jt(e)&&1<=e&&e<=3)}function on(e,t,n){if(!qt(e)||Lt(t)||""===t)return null;if(qt(t)||jt(t)||Xt(t)||Jt(t))t={value:t};else if("object"!=typeof t||t.hasOwnProperty("value")){if(Lt(t.value)||""===t.value||!qt(t.value)&&!jt(t.value)&&!Xt(t.value)&&!Jt(t.value))return null}else t={value:n?JSON.stringify(t):t};if(Jt(t.value)&&!In(t.value))return null;if(!Lt(t.kind)){if(Jt(t.value)||!yn(t.kind))return null;t.value=t.value.toString()}return t}function sn(){if(typeof XMLHttpRequest!==undefined){var e=I("XMLHttpRequest");if(e)return e=new e,!(!kt(e.withCredentials)||typeof XDomainRequest===undefined)}}function cn(e,t,n){var i=-1;return kt(e)||(0<t&&(32===t?i=8192:t<=13&&(i=t<<5)),jt(t=n)&&0<=t&&t<=9?(-1===i&&(i=0),i|=n):(e=Ot[Sn(e)]||-1,-1!==i&&-1!==e?i|=e:e===bt.Double&&(i=e))),i}function un(){if(Mt===undefined){Mt=!1;try{var e=E(),t=B();e&&!kt(e.cookie)&&t&&t.cookieEnabled&&(Mt=!0)}catch(n){}}return Mt}function ln(e){return!(!qt(e)||!~e.indexOf("CPU iPhone OS 12")&&!~e.indexOf("iPad; CPU OS 12")&&!(~e.indexOf("Macintosh; Intel Mac OS X 10_14")&&~e.indexOf("Version/")&&~e.indexOf("Safari"))&&(!~e.indexOf("Macintosh; Intel Mac OS X 10_14")||!Nn(e,"AppleWebKit/605.1.15 (KHTML, like Gecko)"))&&!~e.indexOf("Chrome/5")&&!~e.indexOf("Chrome/6")&&(!~e.indexOf("UnrealEngine")||~e.indexOf("Chrome"))&&!~e.indexOf("UCBrowser/12")&&!~e.indexOf("UCBrowser/11"))}function pn(e,t,n){var i,r;un()&&(i="",(r=z())&&"https:"===r.protocol&&(i=";secure",(Dt=null===Dt?ln((B()||{}).userAgent):Dt)||(t+=";SameSite=None")),(r=new Date).setTime(r.getTime()+24*n*60*60*1e3),r="; expires="+r.toUTCString(),E().cookie=e+"="+t+r+"; path=/"+i)}function fn(e){pn(e,"",-1)}function dn(e){if(un()){e+="=";for(var t=decodeURIComponent((E()||{}).cookie||"").split(";"),n=0;n<t.length;n++){for(var i=t[n],r=0;" "==i[0|r];)r++;if(!(i=i.substring(r)).indexOf(e))return i.substring(e.length,i.length)}}return""}function gn(e){void 0===e&&(e="D");var t=$.newGuid();return"B"===e?t="{"+t+"}":"P"===e?t="("+t+")":"N"===e&&(t=t.replace(/-/g,"")),t}function hn(e,t,n,i,r){var a={},o=!1,s=0,c=arguments.length,u=Object[Pt],l=arguments;for("[object Boolean]"===u.toString.call(l[0])&&(o=l[0],s++);s<c;s++)Q(l[s],function(e,t){o&&t&&Qt(t)?a[e]=hn(!0,a[e],t):a[e]=t});return a}var mn=$.perfNow;function vn(e){return e<10?"0"+e:e.toString()}function yn(e){return!(!jt(e)||!(e>=Nt.NotSet&&e<=Nt.Pii_IPV4AddressLegacy||e===Nt.CustomerContent_GenericContent))}function In(e){return 0<e.length}function Tn(e){var t=En("beforeunload",e),t=En("unload",e)||t;return En("pagehide",e)||t}function Cn(e,t){e.timings=e.timings||{},e.timings.processTelemetryStart=e.timings.processTelemetryStart||{},e.timings.processTelemetryStart[t]=mn()}vt=$.objDefineAccessors;var En=$.addEventHandler;function Sn(e){var t,n=0;return null!==e&&e!==undefined&&("string"==(t=typeof e)?n=1:"number"==t?n=2:"boolean"==t?n=3:t===r&&(n=4,Jt(e)?(n=4096,0<e.length&&(n|=Sn(e[0]))):Ut(e,"value")&&(n=8192|Sn(e.value)))),n}function Nn(e,t){return e!==undefined&&t!==undefined&&!!~e.indexOf(t,e.length-t.length)}var _n,bn=function(e){var t=Object.freeze;return t?t(e):e}({__proto__:null,Version:"3.0.2",FullVersionString:wt,strUndefined:At,strObject:"object",arrForEach:Bt,arrIndexOf:zt,arrMap:Ht,arrReduce:Gt,objKeys:Wt,toISOString:lt,isReactNative:Kt,isString:qt,isNumber:jt,isBoolean:Xt,isFunction:Yt,isArray:Jt,isObject:Qt,strTrim:Zt,isDocumentObjectAvailable:$t,isWindowObjectAvailable:en,isValueAssigned:tn,getTenantId:nn,isBeaconsSupported:rn,isUint8ArrayAvailable:function(){return Ft=null===Ft?Rt(Uint8Array)&&!(Rt(e=B())&&e.userAgent&&(~(e=e.userAgent.toLowerCase()).indexOf("safari")||~e.indexOf("firefox"))&&!~e.indexOf("chrome"))&&!Kt():Ft;var e},isLatency:an,sanitizeProperty:on,getISOString:function(e){return e.getUTCFullYear()+"-"+vn(1+e.getUTCMonth())+"-"+vn(e.getUTCDate())+"T"+vn(e.getUTCHours())+":"+vn(e.getUTCMinutes())+":"+vn(e.getUTCSeconds())+"."+((e=e.getUTCMilliseconds())<10?"00"+e:e<100?"0"+e:e.toString())+"Z"},useXDomainRequest:sn,getCommonSchemaMetaData:cn,cookieAvailable:un,disallowsSameSiteNone:ln,setCookie:pn,deleteCookie:fn,getCookie:dn,createGuid:gn,extend:hn,getTime:mn,isValueKind:yn,isArrayValid:In,objDefineAccessors:vt,addPageUnloadEventListener:Tn,setProcessTelemetryTimings:Cn,addEventHandler:En,getFieldValueType:Sn,strEndsWith:Nn}),xn="version",wn="properties",zt=(_n=Et,__extends(An,_n),An.prototype.initialize=function(e,t,n,i){},An.prototype.track=function(e){},An);function An(){var e=_n.call(this)||this;return e.pluginVersionStringArr=[],e.pluginVersionString="",Oe(An,e,function(o,s){o.initialize=function(n,i,r,a){We(o,function(){return"AppInsightsCore.initialize"},function(){if(n){n.endpointUrl||(n.endpointUrl="https://browser.events.data.microsoft.com/OneCollector/1.0/");var e=n.propertyStorageOverride;if(e&&(!e.getProperty||!e.setProperty))throw Error("Invalid property storage override passed.");n.channels&&Bt(n.channels,function(e){e&&Bt(e,function(e){e.identifier&&e.version&&(e=e.identifier+"="+e.version,o.pluginVersionStringArr.push(e))})})}o.getWParam=function(){return"undefined"!=typeof document?0:-1},i&&Bt(i,function(e){e&&e.identifier&&e.version&&(e=e.identifier+"="+e.version,o.pluginVersionStringArr.push(e))}),o.pluginVersionString=o.pluginVersionStringArr.join(";");try{s.initialize(n,i,r,a)}catch(t){o.logger.throwInternal(te.CRITICAL,xt.ErrorProvidedChannels,"Channels must be provided through config.channels only")}o.pollInternalLogs("InternalLog")},function(){return{config:n,extensions:i,logger:r,notificationManager:a}})},o.track=function(n){We(o,function(){return"AppInsightsCore.track"},function(){var e,t=n;t&&(t.timings=t.timings||{},t.timings.trackStart=mn(),an(t.latency)||(t.latency=_t.Normal),(e=t.ext=t.ext||{}).sdk=e.sdk||{},e.sdk.ver=wt,(e=t.baseData=t.baseData||{})[wn]||(e[wn]={}),(e=e[wn])[xn]||(e[xn]=""),""!==o.pluginVersionString&&(e[xn]=o.pluginVersionString)),s.track(t)},function(){return{item:n}},!n.sync)}}),e}var Pn=["AX","EX","SF","CS","CF","CT","CU","DC","DF","H5","HL","WS","WP"];function On(e,t){void 0===t&&(t=Pn);var n=null;if(e)for(var i=e.split(","),r=0;r<i.length;r++)!function(e,t){if(void 0===t&&(t=Pn),e&&!(e.length<4)){for(var n=!1,i=e.substring(0,3).toString().toUpperCase(),r=0;r<t.length;r++)if(t[r]+":"==i&&e.length<=256){n=!0;break}return n}}(i[r],t)||(n?n+=","+i[r]:n=i[r]);return n}var Dn=(kn.prototype.getExpId=function(){return this._propertiesConfig.expId?this._readExpIdFromCoreData(this._propertiesConfig.expId):this._readExpIdFromCookie()},kn.prototype._getMetaDataFromDOM=function(e){var t,n={},i=E();if(i){t=i&&i.querySelectorAll("meta");for(var r=0;r<t.length;r++){var a=t[r];a.name&&(a.name.toLowerCase().indexOf(e)||(n[a.name.replace(e,"")]=a.content))}}return n},kn.prototype._setAppExpId=function(e){e!==this.appExpId&&(this.appExpId=On(e,this.flightIdNameSpaces))},kn.prototype._getAppExpId=function(){return this.appExpId},kn.prototype._readExpIdFromCookie=function(){return this._setAppExpId(dn(this.expIdCookieName)),this._getAppExpId()},kn.prototype._readExpIdFromCoreData=function(e){return this._setAppExpId(e),this._getAppExpId()},kn.validateAppExpId=On,kn._staticInit=void vt(kn.prototype,"expId",kn.prototype.getExpId),kn);function kn(e){this.appExpId=null,this.flightIdNameSpaces=Pn.slice(0),this.expIdCookieName="Treatments",this._propertiesConfig=e;var t,n=E();n&&(t=n.documentElement,n&&(this.locale=t.lang)),this.env=e.env||this._getMetaDataFromDOM("awa-").env}var Ln,Rn,Mn=function(){},Un=null;function Vn(e,t,n,i){var r="",a="",o=E();o&&(i&&(r=";domain="+i),(i=z())&&"https:"===i.protocol&&(a=";secure",(Un=null===Un?ln((B()||{}).userAgent):Un)||(n+=";SameSite=None")),un()&&(o.cookie=t+"="+n+r+";path=/"+a))}function Fn(){return Ln=Ln===undefined?!!zn(Rn.LocalStorage):Ln}function Bn(){return Fn()?zn(Rn.LocalStorage):null}function zn(e){var t,n=null;try{var i=y();if(!i)return null;t=new Date,(n=e===Rn.LocalStorage?i.localStorage:i.sessionStorage)&&Yt(n.setItem)&&(n.setItem(t,t),i=n.getItem(t)!==t,n.removeItem(t),i&&(n=null))}catch(r){n=null}return n}function Hn(e,t,n){var i=Bn();if(null!==i)try{return i.setItem(t,n),1}catch(r){Ln=!1,e.throwInternal(te.CRITICAL,xt.BrowserCannotWriteLocalStorage,"Browser failed write to local storage. "+r)}}function Gn(e,t){var n=Bn();if(null!==n)try{return n.getItem(t)}catch(i){Ln=!1,e.throwInternal(te.CRITICAL,xt.BrowserCannotReadLocalStorage,"Browser failed read of local storage. "+i)}return null}(Ht=Rn=Rn||{})[Ht.LocalStorage=0]="LocalStorage",Ht[Ht.SessionStorage=1]="SessionStorage";var Wn=$.toISOString,Kn=(qn.prototype.getLocalId=function(){if(this._customLocalId)return this._customLocalId;var e=dn("MUID");return e&&this.setLocalId("t:"+e),undefined},qn.prototype.setLocalId=function(e){this._customLocalId=e},qn.cookieSeparator="|",qn.userCookieName="ai_user",qn._staticInit=void vt(qn.prototype,"localId",qn.prototype.getLocalId,qn.prototype.setLocalId),qn);function qn(e,t,n){var i,r;this._logger=n,!e.disableCookiesUsage&&un()&&((n=dn("MUID"))&&this.setLocalId("t:"+n),t.enableApplicationInsightsUser&&(!(n=dn(qn.userCookieName))||0<(i=n.split(qn.cookieSeparator)).length&&(this.id=i[0]),this.id||(this.id=$.newId(e&&!$.isUndefined(e.idLength)?e.idLength:22),r=Wn(i=new Date),this.accountAcquisitionDate=r,i.setTime(31536e6+i.getTime()),e=[this.id,r],r=t.cookieDomain||undefined,Vn(this._logger,qn.userCookieName,e.join(qn.cookieSeparator)+";expires="+i.toUTCString(),r)))),"undefined"!=typeof navigator&&(r=navigator,this.locale=r.userLanguage||r.language)}var jn="Unknown",Xn=(Yn.prototype.getUserConsent=function(){return this._propertiesConfig.userConsented||!!dn(this._propertiesConfig.userConsentCookieName||"MSCC")},Yn.prototype.getUserConsentDetails=function(){try{if(this._propertiesConfig.callback&&this._propertiesConfig.callback.userConsentDetails){var e=this._propertiesConfig.callback.userConsentDetails();if(e)return JSON.stringify({Required:e.Required||!1,Analytics:e.Analytics||!1,SocialMedia:e.SocialMedia||!1,Advertising:e.Advertising||!1})}}catch(t){}return null},Yn.prototype._getBrowserName=function(e){return this._userAgentContainsString("OPR/",e)?"Opera":this._userAgentContainsString("PhantomJS",e)?"PhantomJS":this._userAgentContainsString("Edge",e)?"Edge":this._userAgentContainsString("Electron",e)?"Electron":this._userAgentContainsString("Chrome",e)?"Chrome":this._userAgentContainsString("Trident",e)?"MSIE":this._userAgentContainsString("Firefox",e)?"Firefox":this._userAgentContainsString("Safari",e)?"Safari":this._userAgentContainsString("SkypeShell",e)?"SkypeShell":jn},Yn.prototype._userAgentContainsString=function(e,t){return!!~t.indexOf(e)},Yn.prototype._getBrowserVersion=function(e,t){return"MSIE"===t?this._getIeVersion(e):this._getOtherVersion(t,e)},Yn.prototype._getIeVersion=function(e){var t=e.match(/MSIE ([\d,.]+)/);return t?t[1]:(e=e.match(/rv:([\d,.]+)/))?e[1]:void 0},Yn.prototype._getOtherVersion=function(e,t){return"Safari"===e&&(e="Version"),(e=t.match(RegExp(e+"/([\\d,.]+)")))?e[1]:jn},Yn.prototype._getScreenResolution=function(){var e={h:0,w:0},t=C();return t&&t.screen&&(e.h=screen.height,e.w=screen.width),e},Yn._staticInit=void vt(Yn.prototype,"userConsent",Yn.prototype.getUserConsent),Yn);function Yn(e){this._propertiesConfig=e;var t=z();!t||(i=t.hostname)&&(this.domain="file:"===t.protocol?"local":i);var n,i="undefined"!=typeof navigator?navigator.userAgent:"";e.userAgent&&(i=e.userAgent),e.populateBrowserInfo&&(i&&(n=this._getBrowserName(i),this.browser=n,this.browserVer=this._getBrowserVersion(i,n)),n=this._getScreenResolution(),this.screenRes=n.w+"X"+n.h)}var Jn=/(windows|win32)/i,Qn=/ arm;/i,Zn=/windows\sphone\s\d+\.\d+/i,$n=/(macintosh|mac os x)/i,ei=/(ipad|iphone|ipod)(?=.*like mac os x)/i,ti=/(linux|joli|[kxln]?ubuntu|debian|[open]*suse|gentoo|arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk)/i,ni=/android/i,ii=/CrOS/i,ri={5.1:"XP","6.0":"Vista",6.1:"7",6.2:"8",6.3:"8.1","10.0":"10"},ai="Unknown",oi=(si.prototype._getOsName=function(e){return e.match(Zn)?"Windows Phone":e.match(Qn)?"Windows RT":e.match(Jn)?"Windows":e.match(ei)?"iOS":e.match(ni)?"Android":e.match(ti)?"Linux":~e.indexOf("x11")?"Unix":~e.indexOf("blackberry")?"BlackBerry":~e.indexOf("symbian")?"Symbian":~e.indexOf("nokia")?"Nokia":e.match($n)?"Mac OS X":e.match(ii)?"Chrome OS":ai},si.prototype._getOsVersion=function(e,t){return"Windows"===t?this._getGenericOsVersion(e,"Windows NT"):"Android"===t?this._getGenericOsVersion(e,t):"Mac OS X"===t?this._getMacOsxVersion(e):ai},si.prototype._getGenericOsVersion=function(e,t){return(t=e.match(RegExp(t+" ([\\d,.]+)")))?ri[t[1]]||t[1]:ai},si.prototype._getMacOsxVersion=function(e){var t=e.match(/Mac OS X ([\d,_,.]+)/);return t&&(e=t[1].replace(/_/g,"."))?(t=this._getDelimiter(e))?e.split(t)[0]:e:ai},si.prototype._getDelimiter=function(e){return~e.indexOf(".")?".":~e.indexOf("_")?"_":null},si);function si(e){var t="undefined"!=typeof navigator?navigator.userAgent:"";(t=e.userAgent||t)&&e.populateOperatingSystemInfo&&(e=this._getOsName(t.toLowerCase()),this.name=e,this.ver=this._getOsVersion(t,e))}var ci=(ui.prototype.getMsfpc=function(){return dn("MSFPC")},ui.prototype.getAnid=function(){return dn("ANON").slice(0,34)},ui._staticInit=(vt(ui.prototype,"msfpc",ui.prototype.getMsfpc),void vt(ui.prototype,"anid",ui.prototype.getAnid)),ui);function ui(e){e.serviceName&&(this.serviceName=e.serviceName)}var li=function(e){this.popSample=100,this.eventFlags=0,e.hashIdentifiers&&(this.eventFlags=1048576|this.eventFlags),e.dropIdentifiers&&(this.eventFlags=2097152|this.eventFlags)},pi=function(){var e=0<(t=((e=(new Date).getTimezoneOffset())-(n=e%60))/60)?"-":"+",t=Math.abs(t),n=Math.abs(n);this.tz=e+(t<10?"0"+t:t.toString())+":"+(n<10?"0"+n:n.toString())},fi=function(){},di=(gi.prototype.setId=function(e){this.customId=e},gi._staticInit=void vt(gi.prototype,"id",gi.prototype.getId=function(){return qt(this.customId)?this.customId:this.automaticId},gi.prototype.setId),gi);function gi(){}var hi=function(e,t,n,i){e.enableApplicationInsightsTrace&&(this.traceId=t||$.generateW3CId(),this.parentId=n,this.name=i,(i=z())&&i.pathname&&(this.name=i.pathname))},mi=(vi.id="id",vi.ver="ver",vi.appName="name",vi.locale="locale",vi.expId="expId",vi.env="env",vi);function vi(){}var yi=(Ii.domain="domain",Ii.browser="browser",Ii.browserVer="browserVer",Ii.screenRes="screenRes",Ii.userConsent="userConsent",Ii.consentDetails="consentDetails",Ii);function Ii(){}var Ti=(Ci.locale="locale",Ci.localId="localId",Ci.id="id",Ci);function Ci(){}var Ei=(Si.osName="name",Si.ver="ver",Si);function Si(){}var Ni=(_i.ver="ver",_i.seq="seq",_i.installId="installId",_i.epoch="epoch",_i);function _i(){}var bi=(xi.msfpc="msfpc",xi.anid="anid",xi.serviceName="serviceName",xi);function xi(){}var wi=(Ai.popSample="popSample",Ai.eventFlags="eventFlags",Ai);function Ai(){}var Pi=(Oi.tz="tz",Oi);function Oi(){}var Di=(ki.sessionId="sesId",ki);function ki(){}var Li=(Ri.localId="localId",Ri.deviceClass="deviceClass",Ri.make="make",Ri.model="model",Ri);function Ri(){}var Mi=(Ui.role="role",Ui.roleInstance="roleInstance",Ui.roleVer="roleVer",Ui);function Ui(){}var Vi=(Fi.traceId="traceID",Fi.traceName="name",Fi.parentId="parentID",Fi);function Fi(){}var Bi=(zi.UserExt="user",zi.DeviceExt="device",zi.TraceExt="trace",zi.WebExt="web",zi.AppExt="app",zi.OSExt="os",zi.SdkExt="sdk",zi.IntWebExt="intweb",zi.UtcExt="utc",zi.LocExt="loc",zi.CloudExt="cloud",zi);function zi(){}var Hi="MicrosoftApplicationsTelemetryDeviceId",Gi=(Wi.prototype.getSequenceId=function(){return++this._sequenceId},Wi.prototype._saveData=function(e,t){var n=this._propertyStorage;n?n.setProperty(e,t):pn(e,t,365)},Wi.prototype._getData=function(e){return this._propertyStorage?this._propertyStorage.getProperty(e)||"":dn(e)},Wi);function Wi(e){this._sequenceId=0,this._propertyStorage=e.propertyStorageOverride,this.seq=this._sequenceId,this.epoch=(new Date).getTime().toString(),!e.disableCookiesUsage&&un()||this._propertyStorage?(e=(e=this._getData(Hi))||$.newGuid(),this._saveData(Hi,e),this.installId=e):fn(Hi)}var Ki=(qi.acquisitionSpan=864e5,qi.renewalSpan=18e5,qi.cookieUpdateInterval=6e4,qi.cookieNameConst="ai_session",qi);function qi(t,n){var c,u,l;Oe(qi,this,function(o){var e,i={sessionRenewalMs:(e=t).sessionRenewalMs&&function(){return e.sessionRenewalMs},sessionExpirationMs:e.sessionExpirationMs&&function(){return e.sessionExpirationMs},cookieDomain:e.cookieDomain&&function(){return e.cookieDomain},namePrefix:e.namePrefix&&function(){return e.namePrefix},sessionAsGuid:function(){return e.sessionAsGuid},idLength:function(){return e.idLength||22}};function r(e){var t,n=o.automaticSession,i=e.split("|");0<i.length&&n.setId(i[0]);try{1<i.length&&(t=+i[1],n.acquisitionDate=+new Date(t),n.acquisitionDate=0<n.acquisitionDate?n.acquisitionDate:0),2<i.length&&(t=+i[2],n.renewalDate=+new Date(t),n.renewalDate=0<n.renewalDate?n.renewalDate:0)}catch(r){u.throwInternal(te.CRITICAL,xt.ErrorParsingAISessionCookie,"Error parsing ai_session cookie, session will be reset: "+r)}0===n.renewalDate&&u.throwInternal(te.WARNING,xt.SessionRenewalDateIsZero,"AI session renewal date is 0, session will be reset.")}function a(){var e=o.automaticSession,t=(new Date).getTime(),n=o.config.sessionAsGuid();!$.isUndefined(n)&&n?$.isBoolean(n)?e.setId(gn()):e.setId(gn(n)):e.setId($.newId(i&&i.idLength?i.idLength():22)),e.acquisitionDate=t,e.renewalDate=t,s(e.getId(),e.acquisitionDate,e.renewalDate),Fn()||u.throwInternal(te.WARNING,xt.BrowserDoesNotSupportLocalStorage,"Browser does not support local storage. Session durations will be inaccurate.")}function s(e,t,n){var i=t+o.config.sessionExpirationMs(),r=n+o.config.sessionRenewalMs(),a=new Date,n=[e,t,n];i<r?a.setTime(i):a.setTime(r),r=o.config.cookieDomain?o.config.cookieDomain():null,Vn(0,l(),n.join("|")+";expires="+a.toUTCString(),r),c=(new Date).getTime()}u=$.isNullOrUndefined(n)?new Me:n,$.isFunction(t.sessionExpirationMs)||(i.sessionExpirationMs=function(){return qi.acquisitionSpan}),$.isFunction(t.sessionRenewalMs)||(i.sessionRenewalMs=function(){return qi.renewalSpan}),o.config=i,l=function(){return o.config.namePrefix&&o.config.namePrefix()?qi.cookieNameConst+o.config.namePrefix():qi.cookieNameConst},o.automaticSession=new di,o.update=function(){o.automaticSession.getId()||(((i=dn(l()))&&$.isFunction(i.split)||(i=Gn(u,l())))&&r(i),o.automaticSession.getId()||a());var e=o.automaticSession,t=o.config,n=(new Date).getTime(),i=n-e.acquisitionDate>t.sessionExpirationMs(),t=n-e.renewalDate>t.sessionRenewalMs();i||t?a():(!c||qi.cookieUpdateInterval<n-c)&&(e.renewalDate=n,s(e.getId(),e.acquisitionDate,e.renewalDate))},o.backup=function(){var e=(n=o.automaticSession).getId(),t=n.acquisitionDate,n=n.renewalDate;Hn(u,l(),[e,t,n].join("|"))}})}var ji=qt,Xi=(Yi.prototype.getSessionId=function(){var e=this.session;if(e&&ji(e.customId))return e.customId;var t=this.sessionManager;return t.update(),!(t=t.automaticSession)||(t=t.getId())&&ji(t)&&(e.automaticId=t),e.automaticId},Yi.prototype.applyApplicationContext=function(e){var t=this.app;ji(t.id)&&(e.ext[Bi.AppExt][mi.id]=t.id),ji(t.ver)&&(e.ext[Bi.AppExt][mi.ver]=t.ver),ji(t.name)&&(e.ext[Bi.AppExt][mi.appName]=t.name),ji(t.locale)&&(e.ext[Bi.AppExt][mi.locale]=t.locale);var n=t.getExpId();ji(n)&&(e.ext[Bi.AppExt][mi.expId]=n),ji(t.env)&&(e.ext[Bi.AppExt][mi.env]=t.env)},Yi.prototype.applyUserContext=function(e){var t=this.user,n=t.getLocalId();ji(n)&&(e.ext[Bi.UserExt][Ti.localId]=n),ji(t.locale)&&(e.ext[Bi.UserExt][Ti.locale]=t.locale),ji(t.id)&&(e.ext[Bi.UserExt][Ti.id]=t.id)},Yi.prototype.applyWebContext=function(e){var t=this.web;ji(t.domain)&&(e.ext[Bi.WebExt][yi.domain]=t.domain),ji(t.browser)&&(e.ext[Bi.WebExt][yi.browser]=t.browser),ji(t.browserVer)&&(e.ext[Bi.WebExt][yi.browserVer]=t.browserVer),ji(t.screenRes)&&(e.ext[Bi.WebExt][yi.screenRes]=t.screenRes),e.ext[Bi.WebExt][yi.userConsent]=t.getUserConsent(),e.ext[Bi.WebExt][yi.consentDetails]=t.getUserConsentDetails()},Yi.prototype.applyOsContext=function(e){var t=this.os;ji(t.name)&&(e.ext[Bi.OSExt][Ei.osName]=t.name),ji(t.ver)&&(e.ext[Bi.OSExt][Ei.ver]=t.ver)},Yi.prototype.applySdkContext=function(e){var t=this.sdk;e.ext[Bi.SdkExt][Ni.seq]=t.getSequenceId(),e.ext[Bi.SdkExt][Ni.epoch]=t.epoch,ji(t.installId)&&(e.ext[Bi.SdkExt][Ni.installId]=t.installId)},Yi.prototype.applyIntWebContext=function(e){var t=this.intWeb,n=t.getMsfpc();ji(n)&&(e.ext[Bi.IntWebExt][bi.msfpc]=n),n=t.getAnid(),ji(n)&&(e.ext[Bi.IntWebExt][bi.anid]=n),ji(t.serviceName)&&(e.ext[Bi.IntWebExt][bi.serviceName]=t.serviceName)},Yi.prototype.applyUtcContext=function(e){var t=this.utc;e.ext[Bi.UtcExt][wi.popSample]=t.popSample,0<t.eventFlags&&(e.ext[Bi.UtcExt][wi.eventFlags]=t.eventFlags)},Yi.prototype.applyLocContext=function(e){e.ext[Bi.LocExt][Pi.tz]=this.loc.tz},Yi.prototype.applySessionContext=function(e){e.ext[Bi.AppExt][Di.sessionId]=this.getSessionId()},Yi.prototype.applyDeviceContext=function(e){var t=this.device;ji(t.localId)&&(e.ext[Bi.DeviceExt][Li.localId]=t.localId),ji(t.make)&&(e.ext[Bi.DeviceExt][Li.make]=t.make),ji(t.model)&&(e.ext[Bi.DeviceExt][Li.model]=t.model),ji(t.deviceClass)&&(e.ext[Bi.DeviceExt][Li.deviceClass]=t.deviceClass)},Yi.prototype.applyCloudContext=function(e){var t=this.cloud;ji(t.role)&&(e.ext[Bi.CloudExt][Mi.role]=t.role),ji(t.roleInstance)&&(e.ext[Bi.CloudExt][Mi.roleInstance]=t.roleInstance),ji(t.roleVer)&&(e.ext[Bi.CloudExt][Mi.roleVer]=t.roleVer)},Yi.prototype.applyAITraceContext=function(e){var t=this.telemetryTrace;ji(t.traceId)&&(e.ext[Bi.TraceExt][Vi.traceId]=t.traceId),ji(t.name)&&(e.ext[Bi.TraceExt][Vi.traceName]=t.name),ji(t.parentId)&&(e.ext[Bi.TraceExt][Vi.parentId]=t.parentId)},Yi);function Yi(e,t,n){this.app=new Dn(t),this.cloud=new Mn,this.user=new Kn(e,t,n&&n.logger),this.os=new oi(t),this.web=new Xn(t),this.sdk=new Gi(e),this.intWeb=new ci(t),this.utc=new li(t),this.loc=new pi,this.device=new fi,this.telemetryTrace=new hi(t),this.sessionManager=new Ki(t,n&&n.logger),this.session=new di}var Ji,Qi=(Ji=Ze,__extends(Zi,Ji),Zi);function Zi(){var a,i=Ji.call(this)||this;i.identifier="SystemPropertiesCollector",i.priority=3,i.version="3.0.2";var o={};return Oe(Zi,i,function(r,e){r.initialize=function(e,t,n){Ji.prototype.initialize.call(i,e,t,n),a=new Xi(e,r._getTelCtx().getExtCfg(r.identifier),t)},r.processTelemetry=function(e,t){Cn(e,r.identifier),t=r._getTelCtx(t);var n,i=e.ext=e.ext||{};e.data=e.data||{},i[Bi.AppExt]=i[Bi.AppExt]||{},i[Bi.UserExt]=i[Bi.UserExt]||{},i[Bi.WebExt]=i[Bi.WebExt]||{},i[Bi.OSExt]=i[Bi.OSExt]||{},i[Bi.SdkExt]=i[Bi.SdkExt]||{},i[Bi.IntWebExt]=i[Bi.IntWebExt]||{},i[Bi.UtcExt]=i[Bi.UtcExt]||{},i[Bi.LocExt]=i[Bi.LocExt]||{},i[Bi.DeviceExt]=i[Bi.DeviceExt]||{},i[Bi.TraceExt]=i[Bi.TraceExt]||{},i[Bi.CloudExt]=i[Bi.CloudExt]||{},a.applyApplicationContext(e),a.applyUserContext(e),a.applyWebContext(e),a.applyOsContext(e),a.applySdkContext(e),a.applyIntWebContext(e),a.applyUtcContext(e),a.applyLocContext(e),a.applySessionContext(e),a.applyDeviceContext(e),a.applyAITraceContext(e),a.applyCloudContext(e),Bt(Wt(i),function(e){0===Wt(i[e]).length&&delete i[e]}),n=e.data,o&&Q(o,function(e,t){n[e]||(n[e]=t)}),r.processNext(e,t)},r.getPropertiesContext=function(){return a},r.setProperty=function(e,t){o[e]=t}}),i}var $i="REAL_TIME",er="NEAR_REAL_TIME",tr="BEST_EFFORT",nr=(ir.create=function(e,t){return new ir(e,t)},ir);function ir(r,e){var a=e?[].concat(e):[],o=$.isNullOrUndefined;(e=this).iKey=function(){return r},e.count=function(){return a.length},e.events=function(){return a},e.addEvents=function(e,t){return void 0===t&&(t=!0),e&&0<e.length?(a=t?a.concat(e):e.concat(a),e.length):0},e.split=function(e,t){var n,i=new ir(r);return e<a.length&&(n=a.length-e,o(t)||(n=t<n?t:n),i.addEvents(a.splice(e,n),!0)),i}}var rr="metadata",ar=/\./,or=function ns(t,e,y,n){var a="baseData",I=!!n,T=e,C={};Oe(ns,this,function(m){function v(e,f,d,g,h,m){Q(e,function(e,t){var n=null;if(tn(t)){var i,r=d,a=e,o=h,s=f;if(I&&!g&&ar.test(e)){var c=e.split("."),u=c.length;if(1<u){o=o&&o.slice();for(var l=0;l<u-1;l++){var p=c[l],s=s[p]=s[p]||{};r+="."+p,o&&o.push(p)}a=c[u-1]}}(n=g&&((i=C[e=r])===undefined&&(i=!1,e.indexOf("ext.metadata")&&e.indexOf("ext.web")||(i=!0),C[e]=i),i)||!T||!T.handleField(r,a)?on(a,t,y):T.value(r,a,t,y))&&(i=n.value,s[a]=i,m&&m(o,a,n),Qt(i)&&!Jt(i)&&((n=o)&&(n=n.slice()).push(a),v(t,i,r+"."+a,g,n,m)))}})}m.createPayload=function(e,t,n,i){return{apiKeys:[],payloadBlob:"",overflow:null,sizeExceed:[],batches:[],numEvents:0,retryCnt:e,isTeardown:t,isSync:n,isBeacon:i}},m.appendPayload=function(d,g,h){var e=d&&g&&!d.overflow;return e&&We(t,function(){return"Serializer:appendPayload"},function(){for(var e=g.events(),t=d.payloadBlob,n=d.numEvents,i=!1,r=[],a=d.isBeacon,o=a?65e3:3984588,s=a?65e3:2e6,c=0,u=0;c<e.length;){var l=e[c];if(l){if(h<=n){d.overflow=g.split(c);break}var p=m.getEventBlob(l);if(p.length<=s){var f=p.length;if(o<t.length+f){d.overflow=g.split(c);break}t&&(t+="\n"),t+=p,20<++u&&(t.substr(0,1),u=0),i=!0,n++}else r.push(l),e.splice(c,1),c--}c++}r&&0<r.length&&d.sizeExceed.push(nr.create(g.iKey(),r)),i&&(d.batches.push(g),d.payloadBlob=t,d.numEvents=n,a=g.iKey(),-1===$.arrIndexOf(d.apiKeys,a)&&d.apiKeys.push(a))},function(){return{payload:d,theBatch:{iKey:g.iKey(),evts:g.events()},max:h}}),e},m.getEventBlob=function(r){return We(t,function(){return"Serializer.getEventBlob"},function(){var e={name:r.name,time:r.time,ver:r.ver,iKey:"o:"+nn(r.iKey)},i={};(n=r.ext)&&(e.ext=i,Q(n,function(e,t){v(t,i[e]={},"ext."+e,!0,null,null)}));var t=e.data={baseType:r.baseType},n=t[a]={};return v(r.baseData,n,a,!1,[a],function(e,t,n){sr(i,e,t,n)}),v(r.data,t,"data",!1,[],function(e,t,n){sr(i,e,t,n)}),JSON.stringify(e)},function(){return{item:r}})}})};function sr(e,t,n,i){var r,a,o;i&&e&&-1<(r=cn(i.value,i.kind,i.propertyType))&&(a=(a=e[rr])||(e[rr]={f:{}}),o=(o=a.f)||(a.f={}),Bt(t,function(e){o[e]||(o[e]={f:{}});var t=o[e].f;o=t||(o[e].f={})}),o=o[n]={},Jt(i.value)?o.a={t:r}:o.t=r)}var cr=(ur.shouldRetryForStatus=function(e){return!(300<=e&&e<500&&408!==e&&429!==e||501===e||505===e)},ur.getMillisToBackoffForRetry=function(e){var t=2400+Math.floor(1200*Math.random());return Math.min(Math.pow(2,e)*t,6e5)},ur);function ur(){}var lr=function is(){var c={};Oe(is,this,function(e){e.setKillSwitchTenants=function(e,t){if(e&&t)try{var n=(a=e.split(","),o=[],a&&Bt(a,function(e){o.push(Zt(e))}),o);if("this-request-only"===t)return n;for(var i=1e3*parseInt(t,10),r=0;r<n.length;++r)c[n[r]]=$.dateNow()+i}catch(s){return[]}var a,o;return[]},e.isTenantKilled=function(e){var t=c;return t[e=Zt(e)]!==undefined&&t[e]>$.dateNow()||(delete t[e],!1)}})},pr=function rs(){var t=!0,n=!0,i=!0,r="use-collector-delta",a=!1;Oe(rs,this,function(e){e.allowRequestSending=function(){return t},e.firstRequestSent=function(){i&&(i=!1,a||(t=!1))},e.shouldAddClockSkewHeaders=function(){return n},e.getClockSkewHeaderValue=function(){return r},e.setClockSkew=function(e){a||(e?(r=e,a=n=!0):n=!1,t=!0)}})},fr="POST",dr="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",gr="drop",hr="kill-duration",mr="time-delta-millis",vr=((lt={})[1]=Gt="requeue",lt[100]=Gt,lt[200]="sent",lt[8004]=gr,lt[8003]=gr,lt);function yr(e){try{return e.responseText}catch(t){}return""}var Ir,Tr,Cr,Er=function as(E,e,S,N){this._responseHandlers=[];var _,b,x,w="?cors=true&content-type=application/x-json-stream&client-id=NO_AUTH&client-version="+wt,A=new lr,P=!1,O=new pr,D=!1,k=0,L=!0,R=[],M={},U=[],V=null,F=!1;Oe(as,this,function(l){var s=!0;function a(e,t){var n=new XDomainRequest;n.open(fr,e.urlString),n.onload=function(){var e=yr(n);p(t,200,{},e),u(e)},n.onerror=function(){p(t,400,{})},n.ontimeout=function(){p(t,500,{})},n.send(e.data)}function o(e,i){var t;fetch(e.urlString,((t={body:e.data,method:fr,credentials:"include"})[dr]=!0,t.headers=e.headers,t)).then(function(e){var n={},t="";e.headers&&e.headers.forEach(function(e,t){n[t]=e}),e.body&&e.text().then(function(e){t=e}),p(i,e.status,n,t),u(t)})["catch"](function(e){p(i,0,{})})}function c(t,a,e){function o(e,t,n){return e[n]||!t||!t.getResponseHeader||(t=t.getResponseHeader(n))&&(e[n]=Zt(t)),e}function n(e,t){var n,i,r;p(a,e.status,(r={},(n=e).getAllResponseHeaders?(e=n.getAllResponseHeaders(),i={},qt(e)&&(e=Zt(e).split(/[\r\n]+/),Bt(e,function(e){var t,n;e&&(-1!=(n=e.indexOf(": "))?(t=Zt(e.substring(0,n)).toLowerCase(),n=Zt(e.substring(1+n)),i[t]=n):i[Zt(e)]=1)})),i):(r=o(r,n,mr),r=o(r,n,hr),o(r,n,"kill-duration-seconds"))),t)}var i=new XMLHttpRequest;try{i[dr]=!0}catch(r){}s&&(i.withCredentials=!0),i.open(fr,t.urlString,!e),Bt(Wt(t.headers),function(e){i.setRequestHeader(e,t.headers[e])}),i.onload=function(){var e=yr(i);n(i,e),u(e)},i.onerror=function(){n(i)},i.ontimeout=function(){n(i)},i.send(t.data)}function p(e,t,n,i){try{e(t,n,i)}catch(r){_.diagLog().throwInternal(te.WARNING,xt.SendPostOnCompleteFailure,r)}}function i(){return!P&&k<e}function r(){var e=U;return U=[],e}function f(e,t,n){return e&&0<e.length&&!P&&b&&V&&(t||i()&&(0<n||O.allowRequestSending()))}function d(e){var n={};return e&&Bt(e,function(e,t){n[t]={iKey:e.iKey(),evts:e.events()}}),n}function g(a,o,s,c,u,l){var e;a&&0!==a.length&&(P?C(a,1,c):(e=a,We(x,function(){return"HttpManager:_sendBatches"},function(e){e&&(a=a.slice(0));for(var t=[],n=null,i=mn();f(a,c,o);){var r=a.shift();r&&0<r.count()&&(A.isTenantKilled(r.iKey())?t.push(r):(n=n||V.createPayload(o,s,c,l&&h()),V.appendPayload(n,r,E)?null!==n.overflow&&(a=[n.overflow].concat(a),n.overflow=null,v(n,i,mn(),u),i=mn(),n=null):(v(n,i,mn(),u),i=mn(),a=[r].concat(a),n=null)))}n&&v(n,i,mn(),u),0<a.length&&(U=a.concat(U)),C(t,8004,c)},function(){return{batches:d(e),retryCount:o,isTeardown:s,isSynchronous:c,sendReason:u,useSendBeacon:l}},!c)))}function h(){return!L&&D&&rn()}function m(e,t,n){e[t]=e[t]||{},e[t][_.identifier]=n}function v(a,n,o,s){var t,c,u;a&&a.payloadBlob&&0<a.payloadBlob.length&&(t=function(e){var t=w,n="";Bt(e.apiKeys,function(e){0<n.length&&(n+=","),n+=e}),0<n.length&&(t+="&apikey="+n),t+="&upload-time="+$.dateNow().toString(),e=function(e){for(var t=0;t<e.batches.length;t++)for(var n=e.batches[t].events(),i=0;i<n.length;i++){var r=(n[i].ext||{}).intweb||{};if(tn(r.msfpc))return encodeURIComponent(r.msfpc)}return""}(e),tn(e)&&(t=t+"&ext.intweb.msfpc="+e),O.shouldAddClockSkewHeaders()&&(t+="&time-delta-to-apply-millis="+O.getClockSkewHeaderValue()),!x.getWParam||0<=(e=x.getWParam())&&(t+="&w="+e);for(var i=0;i<R.length;i++)t+="&"+R[i].name+"="+R[i].value;return t}(a),c=mn(),u="sendAttempt",We(x,function(){return"HttpManager:_doPayloadSend"},function(){Bt(a.batches,function(e){Bt(e.events(),function(e){var t;F&&(m(t=e.timings=e.timings||{},"sendEventStart",c),m(t,"serializationStart",n),m(t,"serializationCompleted",o)),0<e[u]?e[u]++:e[u]=1})}),C(a.batches,1e3+(s||0),a.isSync,!0);var i={data:a.payloadBlob,urlString:t,headers:M},r=null,e=!!l.sendHook;h()&&a.isBeacon?(e=!1,r=function(e){y(e,a,s),l.sendListener&&l.sendListener(i,e,a.isSync||a.isTeardown,!0)}):b&&(r=function(e){O.firstRequestSent();var t=function(e,t){!function(e,t,n,i){var r=9e3,a=null,o=!1,s=!1;try{var c,u,l=!0;if(typeof e!=At){if(t&&(O.setClockSkew(t[mr]),c=t[hr]||t["kill-duration-seconds"],Bt(A.setKillSwitchTenants(t["kill-tokens"],c),function(t){Bt(n.batches,function(e){e.iKey()===t&&(a=a||[],e=e.split(0),n.numEvents-=e.count(),a.push(e))})})),200===e)return r=200,1;(!cr.shouldRetryForStatus(e)||n.numEvents<=0)&&(l=!1),r=9e3+e%1e3}l&&(r=100,u=n.retryCnt,n.isSync||(u<S?T(function(){n.isSync||k--,g(n.batches,u+1,n.isTeardown,n.isSync,5,n.isBeacon)},o=!0,cr.getMillisToBackoffForRetry(u)):s=!0))}finally{o||(O.setClockSkew(),I(n,r,i,s)),C(a,8004,n.isSync)}}(e,t,a,s)};try{b.sendPOST(e,t,a.isTeardown||a.isSync),l.sendListener&&l.sendListener(i,e,a.isSync||a.isTeardown,!1)}catch(n){p(t,0,{})}}),We(x,function(){return"HttpManager:_doPayloadSend.sender"},function(){var t,n;r&&(a.isSync||k++,e?(n=!(t={data:i.data,urlString:i.urlString,headers:i.headers}),We(x,function(){return"HttpManager:_doPayloadSend.sendHook"},function(){try{l.sendHook(t,function(e){n=!0,r(e)},a.isSync||a.isTeardown)}catch(e){n||r(i)}})):r(i))})},function(){return{thePayload:a,serializationStart:n,serializationCompleted:o,sendReason:s}},a.isSync)),C(a.sizeExceed,8003,a.isSync)}function y(e,t,n){try{if(rn()){if(B().sendBeacon(e.urlString,e.data))return I(t,200,n,!1),0;var i=null;Bt(t.batches,function(e){i.push(e.split(0))}),I(t,200,n,!1),C(i,8003,t.isSync,!0)}}catch(r){_.diagLog().warnToConsole("Failed to send telemetry using sendBeacon API. Ex:"+r)}}function I(e,t,n,i){try{i&&_._backOffTransmission(),200===t&&(i||e.isSync||_._clearBackOff(),r=e.batches,F&&(a=mn(),Bt(r,function(e){var t;e&&0<e.count()&&(e=e.events(),t=a,F&&Bt(e,function(e){m(e.timings=e.timings||{},"sendEventCompleted",t)}))}))),C(e.batches,t,e.isSync,!0)}finally{e.isSync||(k--,5!==n&&l.sendQueuedRequests(n,!e.isSync,e.isBeacon))}var r,a}function T(e,t,n){t?e():_._setTimeoutOverride(e,n)}function u(e){var t=l._responseHandlers;try{for(var n,i=0;i<t.length;i++)try{t[i](e)}catch(r){_.diagLog().throwInternal(te.CRITICAL,xt.PostResponseHandler,"Response handler failed: "+r)}!e||tn((n=JSON.parse(e)).webResult)&&tn(n.webResult.msfpc)&&pn("MSFPC",n.webResult.msfpc,365)}catch(a){}}function C(t,n,i,e){var r,a,o;t&&0<t.length&&N&&(r=N[tn(o=vr[a=n])||(o="oth",9e3<=a&&a<=9999?o="rspFail":8e3<=a&&a<=8999?o=gr:1e3<=a&&a<=1999&&(o="send")),o])&&We(x,function(){return"HttpManager:_sendBatchesNotification"},function(){T(function(){try{r.call(N,t,n,i)}catch(e){_.diagLog().throwInternal(te.CRITICAL,xt.NotificationException,"send request notification failed: "+e)}},e||i,0)},function(){return{batches:d(t),reason:n,isSync:i,sendSync:e}},!i)}l.initialize=function(e,t,n,i,r){r=r||{},w=e+w,F=!(x=t).config.disableEventTimings,e=!!x.config.enableCompoundKey,_=n,t=r.valueSanitizer,n=r.stringifyObjects,$.isUndefined(r.enableCompoundKey)||(e=!!r.enableCompoundKey),V=new or(x,t,n,e),(b=i)||(L=!1,D=!Kt(),(i=z())&&i.protocol&&"file:"==i.protocol.toLowerCase()&&(s=!1),i=null,sn()?i=a:Kt()?i=o:"undefined"!=typeof XMLHttpRequest&&(i=c),b={sendPOST:i})},l._getDbgPlgTargets=function(){return[b,A,V]},l.addQueryStringParameter=function(e,t){for(var n=0;n<R.length;n++)if(R[n].name===e)return void(R[n].value=t);R.push({name:e,value:t})},l.addHeader=function(e,t){M[e]=t},l.canSendRequest=function(){return i()&&O.allowRequestSending()},l.sendQueuedRequests=function(e,t,n){t=!$.isNullOrUndefined(t)&&!t,f(U,t,0)&&g(r(),0,!1,t,e||0,!!n)},l.isCompletelyIdle=function(){return!P&&0===k&&0===U.length},l.addBatch=function(e){if(e&&0<e.count()){if(A.isTenantKilled(e.iKey()))return!1;U.push(e)}return!0},l.teardown=function(){0<U.length&&g(r(),0,!0,!0,2,!0)},l.pause=function(){P=!0},l.resume=function(){P=!1,l.sendQueuedRequests(4,!1)},l.sendSynchronousBatch=function(e,t,n){e&&0<e.count()&&g([e],0,!1,!0,t||0,!!n)}})},Sr=.25,Nr=500,_r=20,br=6,xr=4,wr=en?window:undefined,Ar=2,Pr=1,Or="eventsDiscarded",Dr="overrideInstrumentationKey",kr=(Ir=Ze,__extends(Lr,Ir),Lr);function Lr(){var I,e=Ir.call(this)||this;e.identifier="PostChannel",e.priority=1011;var T,C,E,S,N,_=!(e.version="3.0.2"),b=[],x=null,w=!1,A=0,P=1e4,O={},n=$i,D=null,k=0,L=0,R={},M=-1;return Oe(Lr,e,function(o,s){function r(e,t){if(e.sendAttempt||(e.sendAttempt=0),e.latency||(e.latency=_t.Normal),e.ext&&e.ext.trace&&delete e.ext.trace,e.ext&&e.ext.user&&e.ext.user.id&&delete e.ext.user.id,e.sync)if(k||w)e.latency=_t.RealTime,e.sync=!1;else if(C)return C.sendSynchronousBatch(nr.create(e.iKey,[e]),3),0;var n=!1;A<P?n=!d(e,t):(n=!0,function(e,t){for(var n=_t.Normal;n<=t;){var i=p(e,t,!0);if(i&&0<i.count()&&0<(i=i.split(0,_r)).count())return v(Or,[i],U.QueueFull),1;n++}}(e.iKey,e.latency)&&(n=!d(e,t))),n&&m(Or,[e],U.QueueFull)}function a(e,t,n,i){return e=g(e,t,n),C.sendQueuedRequests(t,n,i),e}function c(){0<=M&&g(M,N,!0)&&C.sendQueuedRequests(N,!0,!1);var e=O[n][1];!D&&!x&&0<=e&&!w&&(0<A?D=u(function(){D=null,a(0===L?_t.RealTime:_t.Normal,1,!0),L++,L%=2,c()},e):L=0)}function u(e,t){0===t&&k&&(t=1);var n=1e3;return k&&(n=cr.getMillisToBackoffForRetry(k-1)),o._setTimeoutOverride(e,t*n)}function i(){null!==D&&(o._clearTimeoutOverride(D),D=null,L=0)}function l(e,t){i(),x&&(o._clearTimeoutOverride(x),x=null),w||a(_t.Normal,e,t,!0)}function p(e,t,n){var i=R[t];return i||(t=_t.Normal,i=R[t]),!(t=i.iKeyMap[e])&&n&&(t=nr.create(e),i.batches.push(t),i.iKeyMap[e]=t),t}function f(e,t){C.canSendRequest()&&!k&&(t=0<E&&E<A||t)&&null==x&&o.flush(e,null,20)}function d(e,t){var n=p(e.iKey,e.latency,!0);return n.addEvents([e],t)&&(A++,t&&0===e.sendAttempt&&f(!e.sync,0<S&&n.count()>=S),1)}function g(i,e,t){var r=!1;return!t||C.canSendRequest()?We(o.core,function(){return"PostChannel._queueBatches"},function(){for(var t=[],e=_t.RealTime;i<=e;){var n=R[e];n&&n.batches&&(Bt(n.batches,function(e){C.addBatch(e)?r=r||e&&0<e.count():t=t.concat(e.events()),A-=e.count()}),n.batches=[],n.iKeyMap={}),e--}0<t.length&&m(Or,t,U.KillSwitch),r&&i<=M&&(M=-1,N=0)},function(){return{latency:i,sendReason:e}},t):(M=0<=M?Math.min(M,i):i,N=Math.max(N,e)),r}function t(){(O={})[$i]=[2,1],O[er]=[6,3],O[tr]=[18,9]}function h(e,t){var n=o._notificationManager||{},i=n[e];if(i)try{i.apply(n,t)}catch(r){o.diagLog().throwInternal(te.CRITICAL,xt.NotificationException,e+" notification failed: "+r)}}function m(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];t&&0<t.length&&h(e,[t].concat(n))}function v(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];e&&0<e.length&&Bt(e,function(e){e&&0<e.count()&&h(t,[e.events()].concat(n))})}function y(){S=I&&I.disableAutoBatchFlushLimit?0:Math.max(Nr*(Ar+1),P/6)}t(),R[_t.RealTime]={batches:[],iKeyMap:{}},R[_t.CostDeferred]={batches:[],iKeyMap:{}},R[_t.Normal]={batches:[],iKeyMap:{}},y(),C=new Er(Nr,Ar,Pr,{requeue:function(e,t){var n=[];Bt(e,function(e){e&&0<e.count()&&Bt(e.events(),function(e){e&&(e.sync&&(e.latency=_t.RealTime,e.sync=!1),e.sendAttempt<br?(Cn(e,o.identifier),r(e,!1)):n.push(e))})}),0<n.length&&m(Or,n,U.NonRetryableStatus)},send:function(e,t,n){e&&0<e.length&&h("eventsSendRequest",[1e3<=t&&t<=1999?t-1e3:0,!0!==n])},sent:function(e,t){v("eventsSent",e,t),c()},drop:function(e,t){v(Or,e,8e3<=t&&t<=8999?t-8e3:U.Unknown)},rspFail:function(e){v(Or,e,U.NonRetryableStatus),c()},oth:function(e,t){v(Or,e,U.Unknown),c()}}),o._getDbgPlgTargets=function(){return[C]},o.initialize=function(i,r,a){We(r,function(){return"PostChannel:initialize"},function(){var e=r;s.initialize(i,r,a),o.setInitialized(!1);var t=o._getTelCtx();i.extensionConfig[o.identifier]=i.extensionConfig[o.identifier]||{},I=t.getExtCfg(o.identifier),o._setTimeoutOverride=I.setTimeoutOverride||setTimeout.bind(wr),o._clearTimeoutOverride=I.clearTimeoutOverride||clearTimeout.bind(wr);var n=e.getWParam;e.getWParam=function(){var e=0;return I.ignoreMc1Ms0CookieProcessing&&(e|=2),e|n()},0<I.eventsLimitInMem&&(P=I.eventsLimitInMem),0<I.autoFlushEventsLimit&&(E=I.autoFlushEventsLimit),y(),I.httpXHROverride&&I.httpXHROverride.sendPOST&&(T=I.httpXHROverride),tn(i.anonCookieName)&&C.addQueryStringParameter("anoncknm",i.anonCookieName),C.sendHook=I.payloadPreprocessor,C.sendListener=I.payloadListener,e=I.overrideEndpointUrl||i.endpointUrl,o._notificationManager=i.extensionConfig.NotificationManager,C.initialize(e,o.core,o,T,I),Tn(function(){l(2,!1)}),o.setInitialized(!0)},function(){return{coreConfig:i,core:r,extensions:a}})},o.processTelemetry=function(e,t){Cn(e,o.identifier);var n=(t=o._getTelCtx(t)).getExtCfg(o.identifier),i=!!I.disableTelemetry,e=e;(i=n?i||!!n.disableTelemetry:i)||_||(I[Dr]&&(e.iKey=I[Dr]),n&&n[Dr]&&(e.iKey=n[Dr]),r(e,!0),c()),o.processNext(e,t)},o.setEventQueueLimits=function(e,t){P=0<e?e:1e4,E=0<t?t:0,y();var n=e<A;if(!n&&0<S)for(var i=_t.Normal;!n&&i<=_t.RealTime;i++){var r=R[i];r&&r.batches&&Bt(r.batches,function(e){e&&e.count()>=S&&(n=!0)})}f(!0,n)},o.teardown=function(){l(2,!1),_=!0,C.teardown()},o.pause=function(){i(),w=!0,C.pause()},o.resume=function(){w=!1,C.resume(),c()},o.addResponseHandler=function(e){C._responseHandlers.push(e)},o._loadTransmitProfiles=function(e){i(),t(),n=$i,c(),Q(e,function(e,t){var n;2<=t.length&&(t.splice(0,t.length-2),t[1]<0&&(t[0]=-1),0<t[1]&&0<t[0]&&(n=t[0]/t[1],t[0]=Math.ceil(n)*t[1]),O[e]=t)})},o.flush=function(e,t,n){void 0===e&&(e=!0),w||(i(),n=n||1,e?(g(_t.Normal,n,e),null==x?x=u(function(){!function i(e,t){a(_t.Normal,t,!0),function n(e){C.isCompletelyIdle()?e():x=u(function(){n(e)},Sr)}(function(){e&&e(),0<b.length?x=u(function(){return i(b.shift(),t)},0):(x=null,0<A&&c())})}(t,n)},0):b.push(t)):(a(_t.Normal,n,!1),null!==t&&t!==undefined&&t()))},o.setMsaAuthTicket=function(e){C.addHeader("AuthMsaDeviceTicket",e)},o.hasEvents=function(){return 0<A},o._setTransmitProfile=function(e){n!==e&&O[e]!==undefined&&(i(),n=e,c())},o._backOffTransmission=function(){k<xr&&(k++,i(),c())},o._clearBackOff=function(){k&&(k=0,i(),c())}}),e}(Et=Tr={})[Et.LocalStorage=0]="LocalStorage",Et[Et.SessionStorage=1]="SessionStorage",(Ht=Cr=Cr||{})[Ht.Default=0]="Default",Ht[Ht.Required=1]="Required",Ht[Ht.Array=2]="Array",Ht[Ht.Hidden=4]="Hidden",(vt={})[vt.AI=0]="AI",vt[vt.AI_AND_W3C=1]="AI_AND_W3C",vt[vt.W3C=2]="W3C";var Rr=(Mr.sanitizeKeyAndAddUniqueness=function(e,t,n){var i=t.length,r=Mr.sanitizeKey(e,t);if(r.length!==i){for(var a=0,o=r;n[o]!==undefined;)a++,o=r.substring(0,Mr.MAX_NAME_LENGTH-3)+Mr.padNumber(a);r=o}return r},Mr.sanitizeKey=function(e,t){var n;return t&&(t=Mr.trim(t.toString())).length>Mr.MAX_NAME_LENGTH&&(n=t.substring(0,Mr.MAX_NAME_LENGTH),e.throwInternal(te.WARNING,ae.NameTooLong,"name is too long.  It has been truncated to "+Mr.MAX_NAME_LENGTH+" characters.",{name:t},!0)),n||t},Mr.sanitizeString=function(e,t,n){var i;return void 0===n&&(n=Mr.MAX_STRING_LENGTH),t&&(n=n||Mr.MAX_STRING_LENGTH,(t=Mr.trim(t)).toString().length>n&&(i=t.toString().substring(0,n),e.throwInternal(te.WARNING,ae.StringValueTooLong,"string value is too long. It has been truncated to "+n+" characters.",{value:t},!0))),i||t},Mr.sanitizeUrl=function(e,t){return Mr.sanitizeInput(e,t,Mr.MAX_URL_LENGTH,ae.UrlTooLong)},Mr.sanitizeMessage=function(e,t){var n;return t&&t.length>Mr.MAX_MESSAGE_LENGTH&&(n=t.substring(0,Mr.MAX_MESSAGE_LENGTH),e.throwInternal(te.WARNING,ae.MessageTruncated,"message is too long, it has been truncated to "+Mr.MAX_MESSAGE_LENGTH+" characters.",{message:t},!0)),n||t},Mr.sanitizeException=function(e,t){var n;return t&&t.length>Mr.MAX_EXCEPTION_LENGTH&&(n=t.substring(0,Mr.MAX_EXCEPTION_LENGTH),e.throwInternal(te.WARNING,ae.ExceptionTruncated,"exception is too long, it has been truncated to "+Mr.MAX_EXCEPTION_LENGTH+" characters.",{exception:t},!0)),n||t},Mr.sanitizeProperties=function(i,e){var r;return e&&(r={},Q(e,function(e,t){if($.isObject(t)&&_())try{t=b().stringify(t)}catch(n){i.throwInternal(te.WARNING,ae.CannotSerializeObjectNonSerializable,"custom property is not valid",{exception:n},!0)}t=Mr.sanitizeString(i,t,Mr.MAX_PROPERTY_LENGTH),e=Mr.sanitizeKeyAndAddUniqueness(i,e,r),r[e]=t}),e=r),e},Mr.sanitizeMeasurements=function(n,e){var i;return e&&(i={},Q(e,function(e,t){e=Mr.sanitizeKeyAndAddUniqueness(n,e,i),i[e]=t}),e=i),e},Mr.sanitizeId=function(e,t){return t&&Mr.sanitizeInput(e,t,Mr.MAX_ID_LENGTH,ae.IdTooLong).toString()},Mr.sanitizeInput=function(e,t,n,i){var r;return t&&(t=Mr.trim(t)).length>n&&(r=t.substring(0,n),e.throwInternal(te.WARNING,i,"input is too long, it has been truncated to "+n+" characters.",{data:t},!0)),r||t},Mr.padNumber=function(e){return(e="00"+e).substr(e.length-3)},Mr.trim=function(e){return $.isString(e)?e.replace(/^\s+|\s+$/g,""):e},Mr.MAX_NAME_LENGTH=150,Mr.MAX_ID_LENGTH=128,Mr.MAX_PROPERTY_LENGTH=8192,Mr.MAX_STRING_LENGTH=1024,Mr.MAX_URL_LENGTH=2048,Mr.MAX_MESSAGE_LENGTH=32768,Mr.MAX_EXCEPTION_LENGTH=32768,Mr);function Mr(){}var Ur=B(),Vr=$.isString,Fr=null,Br=(zr.createDomEvent=function(e){var t,n=null;return $.isFunction(Event)?n=new Event(e):(t=E())&&t.createEvent&&(n=t.createEvent("Event")).initEvent(e,!0,!0),n},zr.disableStorage=function(){zr._canUseLocalStorage=!1,zr._canUseSessionStorage=!1},zr._getLocalStorageObject=function(){return zr.canUseLocalStorage()?zr._getVerifiedStorageObject(Tr.LocalStorage):null},zr._getVerifiedStorageObject=function(e){var t,n,i=null;try{if($.isNullOrUndefined(y()))return null;n=new Date,(i=I(e===Tr.LocalStorage?"localStorage":"sessionStorage")).setItem(n.toString(),n.toString()),t=i.getItem(n.toString())!==n.toString(),i.removeItem(n.toString()),t&&(i=null)}catch(r){i=null}return i},zr.isInternalApplicationInsightsEndpoint=function(e){return!!~zr._internalEndpoints.indexOf(e.toLowerCase())},zr.canUseLocalStorage=function(){return zr._canUseLocalStorage=zr._canUseLocalStorage===undefined?!!zr._getVerifiedStorageObject(Tr.LocalStorage):zr._canUseLocalStorage},zr.getStorage=function(e,t){var n=zr._getLocalStorageObject();if(null!==n)try{return n.getItem(t)}catch(i){zr._canUseLocalStorage=!1,e.throwInternal(te.WARNING,ae.BrowserCannotReadLocalStorage,"Browser failed read of local storage. "+zr.getExceptionName(i),{exception:zr.dump(i)})}return null},zr.setStorage=function(e,t,n){var i=zr._getLocalStorageObject();if(null!==i)try{return i.setItem(t,n),!0}catch(r){zr._canUseLocalStorage=!1,e.throwInternal(te.WARNING,ae.BrowserCannotWriteLocalStorage,"Browser failed write to local storage. "+zr.getExceptionName(r),{exception:zr.dump(r)})}return!1},zr.removeStorage=function(e,t){var n=zr._getLocalStorageObject();if(null!==n)try{return n.removeItem(t),!0}catch(i){zr._canUseLocalStorage=!1,e.throwInternal(te.WARNING,ae.BrowserFailedRemovalFromLocalStorage,"Browser failed removal of local storage item. "+zr.getExceptionName(i),{exception:zr.dump(i)})}return!1},zr._getSessionStorageObject=function(){return zr.canUseSessionStorage()?zr._getVerifiedStorageObject(Tr.SessionStorage):null},zr.canUseSessionStorage=function(){return zr._canUseSessionStorage=zr._canUseSessionStorage===undefined?!!zr._getVerifiedStorageObject(Tr.SessionStorage):zr._canUseSessionStorage},zr.getSessionStorageKeys=function(){var t=[];return zr.canUseSessionStorage()&&Q(I("sessionStorage"),function(e){t.push(e)}),t},zr.getSessionStorage=function(e,t){var n=zr._getSessionStorageObject();if(null!==n)try{return n.getItem(t)}catch(i){zr._canUseSessionStorage=!1,e.throwInternal(te.WARNING,ae.BrowserCannotReadSessionStorage,"Browser failed read of session storage. "+zr.getExceptionName(i),{exception:zr.dump(i)})}return null},zr.setSessionStorage=function(e,t,n){var i=zr._getSessionStorageObject();if(null!==i)try{return i.setItem(t,n),!0}catch(r){zr._canUseSessionStorage=!1,e.throwInternal(te.WARNING,ae.BrowserCannotWriteSessionStorage,"Browser failed write to session storage. "+zr.getExceptionName(r),{exception:zr.dump(r)})}return!1},zr.removeSessionStorage=function(e,t){var n=zr._getSessionStorageObject();if(null!==n)try{return n.removeItem(t),!0}catch(i){zr._canUseSessionStorage=!1,e.throwInternal(te.WARNING,ae.BrowserFailedRemovalFromSessionStorage,"Browser failed removal of session storage item. "+zr.getExceptionName(i),{exception:zr.dump(i)})}return!1},zr.disableCookies=function(){$.disableCookies()},zr.canUseCookies=function(e){if($._canUseCookies===undefined){$._canUseCookies=!1;try{$._canUseCookies=zr.document.cookie!==undefined}catch(t){e.throwInternal(te.WARNING,ae.CannotAccessCookie,"Cannot access document.cookie - "+zr.getExceptionName(t),{exception:zr.dump(t)})}}return $._canUseCookies},zr.disallowsSameSiteNone=function(e){return!(!Vr(e)||!~e.indexOf("CPU iPhone OS 12")&&!~e.indexOf("iPad; CPU OS 12")&&!(~e.indexOf("Macintosh; Intel Mac OS X 10_14")&&~e.indexOf("Version/")&&~e.indexOf("Safari"))&&(!~e.indexOf("Macintosh; Intel Mac OS X 10_14")||(n=(t=e.length)-40,"AppleWebKit/605.1.15 (KHTML, like Gecko)"!=e.substring(0<=n?n:0,t)))&&!~e.indexOf("Chrome/5")&&!~e.indexOf("Chrome/6")&&(!~e.indexOf("UnrealEngine")||~e.indexOf("Chrome"))&&!~e.indexOf("UCBrowser/12")&&!~e.indexOf("UCBrowser/11"));var t,n},zr.setCookie=function(e,t,n,i){var r;zr.canUseCookies(e)&&(e=r="",i&&(r=";domain="+i),(i=z())&&"https:"===i.protocol&&(e=";secure",(Fr=null===Fr?zr.disallowsSameSiteNone((B()||{}).userAgent):Fr)||(n+=";SameSite=None")),zr.document.cookie=t+"="+n+r+";path=/"+e)},zr.stringToBoolOrDefault=function(e,t){return void 0===t&&(t=!1),e===undefined||null===e?t:"true"==e.toString().toLowerCase()},zr.getCookie=function(e,t){if(zr.canUseCookies(e)){var n="";if(t&&t.length)for(var i=t+"=",r=zr.document.cookie.split(";"),a=0;a<r.length;a++){var o=r[a];if((o=zr.trim(o))&&!o.indexOf(i)){n=o.substring(i.length,r[a].length);break}}return n}},zr.deleteCookie=function(e,t){zr.canUseCookies(e)&&(zr.document.cookie=t+"=;path=/;expires=Thu, 01 Jan 1970 00:00:01 GMT;")},zr.random32=function(){return $.random32(!0)},zr.getIEVersion=function(e){return~(e=(e=void 0===e?null:e)?e.toLowerCase():Ur?(Ur.userAgent||"").toLowerCase():"").indexOf("msie")?parseInt(e.split("msie")[1]):e.indexOf("trident/")&&(e=parseInt(e.split("trident/")[1]))?e+4:null},zr.msToTimeSpan=function(e){var t=""+(e=Math.round(e=isNaN(e)||e<0?0:e))%1e3,n=""+Math.floor(e/1e3)%60,i=""+Math.floor(e/6e4)%60,r=""+Math.floor(e/36e5)%24,e=Math.floor(e/864e5),t=1===t.length?"00"+t:2===t.length?"0"+t:t,n=n.length<2?"0"+n:n,i=i.length<2?"0"+i:i;return(0<e?e+".":"")+(r=r.length<2?"0"+r:r)+":"+i+":"+n+"."+t},zr.isCrossOriginError=function(e,t,n,i,r){return("Script error."===e||"Script error"===e)&&!r},zr.dump=function(e){var t=Object[l].toString.call(e),n="";return"[object Error]"===t?n="{ stack: '"+e.stack+"', message: '"+e.message+"', name: '"+e.name+"'":_()&&(n=b().stringify(e)),t+n},zr.getExceptionName=function(e){return"[object Error]"===Object[l].toString.call(e)?e.name:""},zr.addEventHandler=function(e,t){return ie.Attach(C(),e,t)},zr.IsBeaconApiSupported=function(){return"sendBeacon"in Ur&&Ur.sendBeacon},zr.getExtension=function(e,t){for(var n=null,i=0;!n&&i<e.length;)e[i]&&e[i].identifier===t&&(n=e[i]),i++;return n},zr.document=E()||{},zr._canUseLocalStorage=undefined,zr._canUseSessionStorage=undefined,zr._internalEndpoints=["https://dc.services.visualstudio.com/v2/track","https://breeze.aimon.applicationinsights.io/v2/track","https://dc-int.services.visualstudio.com/v2/track"],zr.NotSpecified="not_specified",zr.trim=$.strTrim,zr.newId=$.newId,zr.generateW3CId=$.generateW3CId,zr.isArray=$.isArray,zr.isError=$.isError,zr.isDate=$.isDate,zr.toISOStringForIE8=$.toISOString,zr);function zr(){}var Hr=(Gr.parseUrl=function(e){var t=Gr._htmlAnchorIdx,n=Gr._htmlAnchorElement,i=n[t];return Gr.document.createElement?n[t]||(i=n[t]=Gr.document.createElement("a")):i={host:Gr.parseHost(e,!0)},i.href=e,++t>=n.length&&(t=0),Gr._htmlAnchorIdx=t,i},Gr.getAbsoluteUrl=function(e){return(e=Gr.parseUrl(e))?e.href:void 0},Gr.getPathName=function(e){return(e=Gr.parseUrl(e))?e.pathname:void 0},Gr.getCompleteUrl=function(e,t){return e?e.toUpperCase()+" "+t:t},Gr.parseHost=function(e,t){return(e=Gr.parseFullHost(e,t))&&null!=(t=e.match(/(www[0-9]?\.)?(.[^/:]+)(\:[\d]+)?/i))&&3<t.length&&Vr(t[2])&&0<t[2].length?t[2]+(t[3]||""):e},Gr.parseFullHost=function(e,t){var n=null;return!e||null!=(e=e.match(/(\w*):\/\/(.[^/:]+)(\:[\d]+)?/i))&&2<e.length&&Vr(e[2])&&0<e[2].length&&(n=e[2]||"",t&&2<e.length&&(t=(e[1]||"").toLowerCase(),e=e[3]||"",n+=e="http"==t&&":80"===e||"https"==t&&":443"===e?"":e)),n},Gr.document=E()||{},Gr._htmlAnchorIdx=0,Gr._htmlAnchorElement=[null,null,null,null,null],Gr);function Gr(){}var Wr=(Kr.ParseDependencyPath=function(e,t,n,i){var r,a,o,s=i,c=i,s=t&&0<t.length?(o=(r=Hr.parseUrl(t)).host,s||(null!=r.pathname?("/"!=(a=0===r.pathname.length?"/":r.pathname)[0]&&(a="/"+a),c=r.pathname,Rr.sanitizeString(e,n?n+" "+a:a)):Rr.sanitizeString(e,t))):o=i;return{target:o,name:s,data:c}},Kr);function Kr(){}var qr=(jr.Now=function(){var e=N();return e&&e.now&&e.timing&&0<(e=e.now()+e.timing.navigationStart)?e:(new Date).getTime()},jr.GetDuration=function(e,t){return 0===e||0===t||$.isNullOrUndefined(e)||$.isNullOrUndefined(t)?null:t-e},jr);function jr(){}var Xr,lt=(Xr=Gt=function(){},__extends(Yr,Xr),Yr);function Yr(){var e=Xr.call(this)||this;return e.ver=2,e.properties={},e.measurements={},e}var Jr,Qr=(Jr=lt,__extends(Zr,Jr),Zr.envelopeType="Microsoft.ApplicationInsights.{0}.Event",Zr.dataType="EventData",Zr);function Zr(e,t,n,i){var r=Jr.call(this)||this;return r.aiDataContract={ver:Cr.Required,name:Cr.Required,properties:Cr.Default,measurements:Cr.Default},r.name=Rr.sanitizeString(e,t)||Br.NotSpecified,r.properties=Rr.sanitizeProperties(e,n),r.measurements=Rr.sanitizeMeasurements(e,i),r}var $r,Et=function(){},Ht=($r=Gt,__extends(ea,$r),ea);function ea(){var e=$r.call(this)||this;return e.ver=2,e.exceptions=[],e.properties={},e.measurements={},e}var ta,vt=function(){this.hasFullStack=!0,this.parsedStack=[]},na="error",ia=(ta=Ht,__extends(ra,ta),ra.CreateFromInterface=function(t,e,n,i){var r=e.exceptions&&$.arrMap(e.exceptions,function(e){return oa.CreateFromInterface(t,e)});return new ra(t,__assign({},e,{exceptions:r}),n,i)},ra.prototype.toInterface=function(){var e=this.exceptions,t=this.properties,n=this.measurements,i=this.severityLevel;this.ver;var r=this.problemGroup,a=this.id,o=this.isManual;return{ver:"4.0",exceptions:e instanceof Array&&$.arrMap(e,function(e){return e.toInterface()})||undefined,severityLevel:i,properties:t,measurements:n,problemGroup:r,id:a,isManual:o}},ra.CreateSimpleException=function(e,t,n,i,r,a){return{exceptions:[{hasFullStack:!0,message:e,stack:r,typeName:t}]}},ra.envelopeType="Microsoft.ApplicationInsights.{0}.Exception",ra.dataType="ExceptionData",ra);function ra(e,t,n,i,r,a){var o,s=ta.call(this)||this;return s.aiDataContract={ver:Cr.Required,exceptions:Cr.Required,severityLevel:Cr.Default,properties:Cr.Default,measurements:Cr.Default},"ver"in(o=t)&&"exceptions"in o&&"properties"in o?(s.exceptions=t.exceptions,s.properties=t.properties,s.measurements=t.measurements,t.severityLevel&&(s.severityLevel=t.severityLevel),t.id&&(s.id=t.id),t.problemGroup&&(s.problemGroup=t.problemGroup),s.ver=2,$.isNullOrUndefined(t.isManual)||(s.isManual=t.isManual)):(s.exceptions=[new oa(e,t)],s.properties=Rr.sanitizeProperties(e,n)||{},s.measurements=Rr.sanitizeMeasurements(e,i),r&&(s.severityLevel=r),a&&(s.id=a)),s}var aa,oa=(aa=vt,__extends(sa,aa),sa.prototype.toInterface=function(){var e=this.parsedStack instanceof Array&&$.arrMap(this.parsedStack,function(e){return e.toInterface()});return{id:this.id,outerId:this.outerId,typeName:this.typeName,message:this.message,hasFullStack:this.hasFullStack,stack:this.stack,parsedStack:e||undefined}},sa.CreateFromInterface=function(e,t){var n=t.parsedStack instanceof Array&&$.arrMap(t.parsedStack,function(e){return ua.CreateFromInterface(e)})||t.parsedStack;return new sa(e,__assign({},t,{parsedStack:n}))},sa.parseStack=function(e){if($.isString(e)){for(var t=e.split("\n"),n=[],i=0,r=0,a=0;a<=t.length;a++){var o=t[a];ua.regex.test(o)&&(r+=(o=new ua(t[a],i++)).sizeInBytes,n.push(o))}if(32768<r)for(var s=0,c=n.length-1,u=0,l=s,p=c;s<c;){if(32768<(u+=n[s].sizeInBytes+n[c].sizeInBytes)){var f=p-l+1;n.splice(l,f);break}l=s,p=c,s++,c--}}return n},sa);function sa(e,t){var n,i=aa.call(this)||this;return i.aiDataContract={id:Cr.Default,outerId:Cr.Default,typeName:Cr.Required,message:Cr.Required,hasFullStack:Cr.Default,stack:Cr.Default,parsedStack:Cr.Array},"hasFullStack"in(n=t)&&"typeName"in n?(i.typeName=t.typeName,i.message=t.message,i.stack=t.stack,i.parsedStack=t.parsedStack,i.hasFullStack=t.hasFullStack):(n=t,Br.isError(n)||(n=n[na]||n.evt||n),i.typeName=Rr.sanitizeString(e,function(e){var t="";if(e&&!(t=e.typeName||e.name||""))try{var n=/function (.{1,})\(/.exec(e.constructor.toString()),t=n&&1<n.length?n[1]:""}catch(i){}return t}(n))||Br.NotSpecified,i.message=Rr.sanitizeMessage(e,t.message)||Br.NotSpecified,t=t.stack,i.parsedStack=sa.parseStack(t),i.stack=Rr.sanitizeException(e,t),i.hasFullStack=Br.isArray(i.parsedStack)&&0<i.parsedStack.length),i}var ca,ua=(ca=Et,__extends(la,ca),la.CreateFromInterface=function(e){return new la(e,null)},la.prototype.toInterface=function(){return{level:this.level,method:this.method,assembly:this.assembly,fileName:this.fileName,line:this.line}},la.regex=/^([\s]+at)?(.*?)(\@|\s\(|\s)([^\(\@\n]+):([0-9]+):([0-9]+)(\)?)$/,la.baseSize=58,la);function la(e,t){var n,i=ca.call(this)||this;return i.sizeInBytes=0,i.aiDataContract={level:Cr.Required,method:Cr.Required,assembly:Cr.Default,fileName:Cr.Default,line:Cr.Default},"string"==typeof e?(n=e,i.level=t,i.method="<no_method>",i.assembly=Br.trim(n),i.fileName="",i.line=0,(n=n.match(la.regex))&&5<=n.length&&(i.method=Br.trim(n[2])||i.method,i.fileName=Br.trim(n[4]),i.line=parseInt(n[5])||0)):(i.level=e.level,i.method=e.method,i.assembly=e.assembly,i.fileName=e.fileName,i.line=e.line,i.sizeInBytes=0),i.sizeInBytes+=i.method.length,i.sizeInBytes+=i.fileName.length,i.sizeInBytes+=i.assembly.length,i.sizeInBytes+=la.baseSize,i.sizeInBytes+=i.level.toString().length,i.sizeInBytes+=i.line.toString().length,i}var pa,fa,vt=(pa=Gt,__extends(da,pa),da);function da(){var e=pa.call(this)||this;return e.ver=2,e.metrics=[],e.properties={},e.measurements={},e}(Et=fa={})[Et.Measurement=0]="Measurement",Et[Et.Aggregation=1]="Aggregation";var ga,ha=(ga=function(){this.kind=fa.Measurement},__extends(ma,ga),ma);function ma(){var e=ga.apply(this,arguments)||this;return e.aiDataContract={name:Cr.Required,kind:Cr.Default,value:Cr.Required,count:Cr.Default,min:Cr.Default,max:Cr.Default,stdDev:Cr.Default},e}var va,ya=(va=vt,__extends(Ia,va),Ia.envelopeType="Microsoft.ApplicationInsights.{0}.Metric",Ia.dataType="MetricData",Ia);function Ia(e,t,n,i,r,a,o,s){var c=va.call(this)||this;c.aiDataContract={ver:Cr.Required,metrics:Cr.Required,properties:Cr.Default};var u=new ha;return u.count=0<i?i:undefined,u.max=isNaN(a)||null===a?undefined:a,u.min=isNaN(r)||null===r?undefined:r,u.name=Rr.sanitizeString(e,t)||Br.NotSpecified,u.value=n,c.metrics=[u],c.properties=Rr.sanitizeProperties(e,o),c.measurements=Rr.sanitizeMeasurements(e,s),c}var Ta,vt=(Ta=lt,__extends(Ca,Ta),Ca);function Ca(){var e=Ta.call(this)||this;return e.ver=2,e.properties={},e.measurements={},e}var Ea,Sa=(Ea=vt,__extends(Na,Ea),Na.envelopeType="Microsoft.ApplicationInsights.{0}.Pageview",Na.dataType="PageviewData",Na);function Na(e,t,n,i,r,a,o){var s=Ea.call(this)||this;return s.aiDataContract={ver:Cr.Required,name:Cr.Default,url:Cr.Default,duration:Cr.Default,properties:Cr.Default,measurements:Cr.Default,id:Cr.Default},s.id=Rr.sanitizeId(e,o),s.url=Rr.sanitizeUrl(e,n),s.name=Rr.sanitizeString(e,t)||Br.NotSpecified,isNaN(i)||(s.duration=Br.msToTimeSpan(i)),s.properties=Rr.sanitizeProperties(e,r),s.measurements=Rr.sanitizeMeasurements(e,a),s}var _a,lt=(_a=Gt,__extends(ba,_a),ba);function ba(){var e=_a.call(this)||this;return e.ver=2,e.success=!0,e.properties={},e.measurements={},e}var xa,wa=(xa=lt,__extends(Aa,xa),Aa.envelopeType="Microsoft.ApplicationInsights.{0}.RemoteDependency",Aa.dataType="RemoteDependencyData",Aa);function Aa(e,t,n,i,r,a,o,s,c,u,l,p){void 0===c&&(c="Ajax");var f=xa.call(this)||this;return f.aiDataContract={id:Cr.Required,ver:Cr.Required,name:Cr.Default,resultCode:Cr.Default,duration:Cr.Default,success:Cr.Default,data:Cr.Default,target:Cr.Default,type:Cr.Default,properties:Cr.Default,measurements:Cr.Default,kind:Cr.Default,value:Cr.Default,count:Cr.Default,min:Cr.Default,max:Cr.Default,stdDev:Cr.Default,dependencyKind:Cr.Default,dependencySource:Cr.Default,commandName:Cr.Default,dependencyTypeName:Cr.Default},f.id=t,f.duration=Br.msToTimeSpan(r),f.success=a,f.resultCode=o+"",f.type=Rr.sanitizeString(e,c),s=Wr.ParseDependencyPath(e,n,s,i),f.data=Rr.sanitizeUrl(e,i)||s.data,f.target=Rr.sanitizeString(e,s.target),u&&(f.target=f.target+" | "+u),f.name=Rr.sanitizeString(e,s.name),f.properties=Rr.sanitizeProperties(e,l),f.measurements=Rr.sanitizeMeasurements(e,p),f}var Pa,Gt=(Pa=Gt,__extends(Oa,Pa),Oa);function Oa(){var e=Pa.call(this)||this;return e.ver=2,e.properties={},e.measurements={},e}var Da,ka=(Da=Gt,__extends(La,Da),La.envelopeType="Microsoft.ApplicationInsights.{0}.Message",La.dataType="MessageData",La);function La(e,t,n,i,r){var a=Da.call(this)||this;return a.aiDataContract={ver:Cr.Required,message:Cr.Required,severityLevel:Cr.Default,properties:Cr.Default},t=t||Br.NotSpecified,a.message=Rr.sanitizeMessage(e,t),a.properties=Rr.sanitizeProperties(e,i),a.measurements=Rr.sanitizeMeasurements(e,r),n&&(a.severityLevel=n),a}var Ra,vt=(Ra=vt,__extends(Ma,Ra),Ma);function Ma(){var e=Ra.call(this)||this;return e.ver=2,e.properties={},e.measurements={},e}var Ua,Va,Fa=(Ua=vt,__extends(Ba,Ua),Ba.envelopeType="Microsoft.ApplicationInsights.{0}.PageviewPerformance",Ba.dataType="PageviewPerformanceData",Ba);function Ba(e,t,n,i,r,a,o){var s=Ua.call(this)||this;return s.aiDataContract={ver:Cr.Required,name:Cr.Default,url:Cr.Default,duration:Cr.Default,perfTotal:Cr.Default,networkConnect:Cr.Default,sentRequest:Cr.Default,receivedResponse:Cr.Default,domProcessing:Cr.Default,properties:Cr.Default,measurements:Cr.Default},s.url=Rr.sanitizeUrl(e,n),s.name=Rr.sanitizeString(e,t)||Br.NotSpecified,s.properties=Rr.sanitizeProperties(e,r),s.measurements=Rr.sanitizeMeasurements(e,a),o&&(s.domProcessing=o.domProcessing,s.duration=o.duration,s.networkConnect=o.networkConnect,s.perfTotal=o.perfTotal,s.receivedResponse=o.receivedResponse,s.sentRequest=o.sentRequest),s}(vt=Va={})[vt.Verbose=0]="Verbose",vt[vt.Information=1]="Information",vt[vt.Warning=2]="Warning",vt[vt.Error=3]="Error",vt[vt.Critical=4]="Critical";var za=(Ha.create=function(e,t,n,i,r,a){if(n=Rr.sanitizeString(i,n)||Br.NotSpecified,$.isNullOrUndefined(e)||$.isNullOrUndefined(t)||$.isNullOrUndefined(n))throw Error("Input doesn't contain all required fields");var o={name:n,time:$.toISOString(new Date),iKey:"",ext:a||{},tags:[],data:{},baseType:t,baseData:e};return $.isNullOrUndefined(r)||Q(r,function(e,t){o.data[e]=t}),o},Ha);function Ha(){}var Ga=function os(m,v,t,y){Oe(os,this,function(e){var l,n=$.arrForEach,p=$.isNullOrUndefined,f=null,d=[],g=!1;function h(){t&&n(t.getTransmissionControls(),function(e){n(e,function(e){return e.flush(!0)})})}t&&(l=t.logger),e.trackPageView=function(i,r){var a=i.name;!p(a)&&"string"==typeof a||(e=E(),a=i.name=e&&e.title||"");var e,o=i.uri;if(!p(o)&&"string"==typeof o||(e=z(),o=i.uri=e&&e.href||""),!y.isPerformanceTimingSupported())return m.sendPageViewInternal(i,r),h(),void l.throwInternal(te.WARNING,ae.NavigationTimingNotSupported,"trackPageView: navigation timing API used for calculation of page duration is not supported in this browser. This page view will be collected without duration and timing info.");var s,t,c=!1,u=y.getPerformanceTiming().navigationStart;0<u&&(s=qr.GetDuration(u,+new Date),y.shouldCollectDuration(s)||(s=undefined)),p(r)||p(r.duration)||(t=r.duration),!v&&isNaN(t)||(isNaN(t)&&((r=r||{}).duration=s),m.sendPageViewInternal(i,r),h(),c=!0),r=r||{},t=function(){var e,t=!1;try{y.isPerformanceTimingDataReady()?(t=!0,e={name:a,uri:o},y.populatePageViewPerformanceEvent(e),e.isValid||c?(c||(r.duration=e.durationMs,m.sendPageViewInternal(i,r)),g||(m.sendPageViewPerformanceInternal(e,r),g=!0)):(r.duration=s,m.sendPageViewInternal(i,r))):0<u&&6e4<qr.GetDuration(u,+new Date)&&(t=!0,c||(r.duration=6e4,m.sendPageViewInternal(i,r)))}catch(n){l.throwInternal(te.CRITICAL,ae.TrackPVFailedCalc,"trackPageView failed on page load calculation: "+Br.getExceptionName(n),{exception:Br.dump(n)})}return t},d.push(t),f=f||setInterval(function(){var e=d.slice(0),t=!1;d=[],n(e,function(e){e()?t=!0:d.push(e)}),0===d.length&&(clearInterval(f),f=null),t&&h()},100)}})},Wa=(Ka.prototype.trackPreviousPageVisit=function(e,t){try{var n=this.restartPageVisitTimer(e,t);n&&this.pageVisitTimeTrackingHandler(n.pageName,n.pageUrl,n.pageVisitTime)}catch(i){this._logger.warnToConsole("Auto track page visit time failed, metric will not be collected: "+Br.dump(i))}},Ka.prototype.restartPageVisitTimer=function(e,t){try{var n=this.stopPageVisitTimer();return this.startPageVisitTimer(e,t),n}catch(i){return this._logger.warnToConsole("Call to restart failed: "+Br.dump(i)),null}},Ka.prototype.startPageVisitTimer=function(e,t){try{if(Br.canUseSessionStorage()){if(null!=Br.getSessionStorage(this._logger,this.prevPageVisitDataKeyName))throw Error("Cannot call startPageVisit consecutively without first calling stopPageVisit");var n=new qa(e,t),n=b().stringify(n);Br.setSessionStorage(this._logger,this.prevPageVisitDataKeyName,n)}}catch(i){this._logger.warnToConsole("Call to start failed: "+Br.dump(i))}},Ka.prototype.stopPageVisitTimer=function(){try{if(Br.canUseSessionStorage()){var e=$.dateNow(),t=Br.getSessionStorage(this._logger,this.prevPageVisitDataKeyName);return t&&_()?((t=b().parse(t)).pageVisitTime=e-t.pageVisitStartTime,Br.removeSessionStorage(this._logger,this.prevPageVisitDataKeyName),t):null}return null}catch(n){return this._logger.warnToConsole("Stop page visit timer failed: "+Br.dump(n)),null}},Ka);function Ka(e,t){this.prevPageVisitDataKeyName="prevPageVisitData",this.pageVisitTimeTrackingHandler=t,this._logger=e}var qa=function(e,t){this.pageVisitStartTime=$.dateNow(),this.pageName=e,this.pageUrl=t},ja=(Xa.prototype.populatePageViewPerformanceEvent=function(e){e.isValid=!1;var t,n,i,r,a=this.getPerformanceNavigationTiming(),o=this.getPerformanceTiming();(a||o)&&(o=a?(t=a.duration,n=qr.GetDuration(a.startTime,a.connectEnd),i=qr.GetDuration(a.requestStart,a.responseStart),r=qr.GetDuration(a.responseStart,a.responseEnd),qr.GetDuration(a.responseEnd,a.loadEventEnd)):(t=qr.GetDuration(o.navigationStart,o.loadEventEnd),n=qr.GetDuration(o.navigationStart,o.connectEnd),i=qr.GetDuration(o.requestStart,o.responseStart),r=qr.GetDuration(o.responseStart,o.responseEnd),qr.GetDuration(o.responseEnd,o.loadEventEnd)),0===t?this._logger.throwInternal(te.WARNING,ae.ErrorPVCalc,"error calculating page view performance.",{total:t,network:n,request:i,response:r,dom:o}):this.shouldCollectDuration(t,n,i,r,o)?t<Math.floor(n)+Math.floor(i)+Math.floor(r)+Math.floor(o)?this._logger.throwInternal(te.WARNING,ae.ClientPerformanceMathError,"client performance math error.",{total:t,network:n,request:i,response:r,dom:o}):(e.durationMs=t,e.perfTotal=e.duration=Br.msToTimeSpan(t),e.networkConnect=Br.msToTimeSpan(n),e.sentRequest=Br.msToTimeSpan(i),e.receivedResponse=Br.msToTimeSpan(r),e.domProcessing=Br.msToTimeSpan(o),e.isValid=!0):this._logger.throwInternal(te.WARNING,ae.InvalidDurationValue,"Invalid page load duration value. Browser perf data won't be sent.",{total:t,network:n,request:i,response:r,dom:o}))},Xa.prototype.getPerformanceTiming=function(){return this.isPerformanceTimingSupported()?N().timing:null},Xa.prototype.getPerformanceNavigationTiming=function(){return this.isPerformanceNavigationTimingSupported()?N().getEntriesByType("navigation")[0]:null},Xa.prototype.isPerformanceNavigationTimingSupported=function(){var e=N();return e&&e.getEntriesByType&&0<e.getEntriesByType("navigation").length},Xa.prototype.isPerformanceTimingSupported=function(){var e=N();return e&&e.timing},Xa.prototype.isPerformanceTimingDataReady=function(){var e=N();return(e=e?e.timing:0)&&0<e.domainLookupStart&&0<e.navigationStart&&0<e.responseStart&&0<e.requestStart&&0<e.loadEventEnd&&0<e.responseEnd&&0<e.connectEnd&&0<e.domLoading},Xa.prototype.shouldCollectDuration=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=["googlebot","adsbot-google","apis-google","mediapartners-google"],i=(B()||{}).userAgent,r=!1;if(i)for(var a=0;a<n.length;a++)r=r||!!~i.toLowerCase().indexOf(n[a]);if(r)return!1;for(a=0;a<e.length;a++)if(e[a]<0||e[a]>=this.MAX_DURATION_ALLOWED)return!1;return!0},Xa);function Xa(e){this.MAX_DURATION_ALLOWED=36e5,e&&(this._logger=e.logger)}var Ya="duration";function Ja(e,t){e&&e.dispatchEvent&&t&&e.dispatchEvent(t)}var Qa,vt=(Qa=Ze,__extends(Za,Qa),Za.getDefaultConfig=function(e){return(e=e||{}).sessionRenewalMs=18e5,e.sessionExpirationMs=864e5,e.disableExceptionTracking=Br.stringToBoolOrDefault(e.disableExceptionTracking),e.autoTrackPageVisitTime=Br.stringToBoolOrDefault(e.autoTrackPageVisitTime),e.overridePageViewDuration=Br.stringToBoolOrDefault(e.overridePageViewDuration),e.enableUnhandledPromiseRejectionTracking=Br.stringToBoolOrDefault(e.enableUnhandledPromiseRejectionTracking),(isNaN(e.samplingPercentage)||e.samplingPercentage<=0||100<=e.samplingPercentage)&&(e.samplingPercentage=100),e.isCookieUseDisabled=Br.stringToBoolOrDefault(e.isCookieUseDisabled),e.isStorageUseDisabled=Br.stringToBoolOrDefault(e.isStorageUseDisabled),e.isBrowserLinkTrackingEnabled=Br.stringToBoolOrDefault(e.isBrowserLinkTrackingEnabled),e.enableAutoRouteTracking=Br.stringToBoolOrDefault(e.enableAutoRouteTracking),e.namePrefix=e.namePrefix||"",e},Za.prototype.processTelemetry=function(a,o){var s=this;We(this.core,function(){return s.identifier+":processTelemetry"},function(){var e=!1,t=s._telemetryInitializers.length;o=s._getTelCtx(o);for(var n=0;n<t;++n){var i=s._telemetryInitializers[n];if(i)try{if(!1===i.call(null,a)){e=!0;break}}catch(r){o.diagLog().throwInternal(te.CRITICAL,ae.TelemetryInitializerFailed,"One of telemetry initializers failed, telemetry item will not be sent: "+Br.getExceptionName(r),{exception:Br.dump(r)},!0)}}e||s.processNext(a,o)},function(){return{item:a}},!a.sync)},Za.prototype.trackEvent=function(e,t){try{var n=za.create(e,Qr.dataType,Qr.envelopeType,this.diagLog(),t);this.core.track(n)}catch(i){this.diagLog().throwInternal(te.WARNING,ae.TrackTraceFailed,"trackTrace failed, trace will not be collected: "+Br.getExceptionName(i),{exception:Br.dump(i)})}},Za.prototype.startTrackEvent=function(e){try{this._eventTracking.start(e)}catch(t){this.diagLog().throwInternal(te.CRITICAL,ae.StartTrackEventFailed,"startTrackEvent failed, event will not be collected: "+Br.getExceptionName(t),{exception:Br.dump(t)})}},Za.prototype.stopTrackEvent=function(e,t,n){try{this._eventTracking.stop(e,undefined,t)}catch(i){this.diagLog().throwInternal(te.CRITICAL,ae.StopTrackEventFailed,"stopTrackEvent failed, event will not be collected: "+Br.getExceptionName(i),{exception:Br.dump(i)})}},Za.prototype.trackTrace=function(e,t){try{var n=za.create(e,ka.dataType,ka.envelopeType,this.diagLog(),t);this.core.track(n)}catch(i){this.diagLog().throwInternal(te.WARNING,ae.TrackTraceFailed,"trackTrace failed, trace will not be collected: "+Br.getExceptionName(i),{exception:Br.dump(i)})}},Za.prototype.trackMetric=function(e,t){try{var n=za.create(e,ya.dataType,ya.envelopeType,this.diagLog(),t);this.core.track(n)}catch(i){this.diagLog().throwInternal(te.CRITICAL,ae.TrackMetricFailed,"trackMetric failed, metric will not be collected: "+Br.getExceptionName(i),{exception:Br.dump(i)})}},Za.prototype.trackPageView=function(e,t){try{var n=e||{};this._pageViewManager.trackPageView(n,__assign({},n.properties,n.measurements,t)),this.config.autoTrackPageVisitTime&&this._pageVisitTimeManager.trackPreviousPageVisit(n.name,n.uri)}catch(i){this.diagLog().throwInternal(te.CRITICAL,ae.TrackPVFailed,"trackPageView failed, page view will not be collected: "+Br.getExceptionName(i),{exception:Br.dump(i)})}},Za.prototype.sendPageViewInternal=function(e,t,n){var i=E();i&&(e.refUri=e.refUri===undefined?i.referrer:e.refUri),n=za.create(e,Sa.dataType,Sa.envelopeType,this.diagLog(),t,n),this.core.track(n),this._trackAjaxAttempts=0},Za.prototype.sendPageViewPerformanceInternal=function(e,t,n){n=za.create(e,Fa.dataType,Fa.envelopeType,this.diagLog(),t,n),this.core.track(n)},Za.prototype.trackPageViewPerformance=function(e,t){try{this._pageViewPerformanceManager.populatePageViewPerformanceEvent(e),this.sendPageViewPerformanceInternal(e,t)}catch(n){this.diagLog().throwInternal(te.CRITICAL,ae.TrackPVFailed,"trackPageViewPerformance failed, page view will not be collected: "+Br.getExceptionName(n),{exception:Br.dump(n)})}},Za.prototype.startTrackPage=function(e){try{var t;"string"!=typeof e&&(e=(t=E())&&t.title||""),this._pageTracking.start(e)}catch(n){this.diagLog().throwInternal(te.CRITICAL,ae.StartTrackFailed,"startTrackPage failed, page view may not be collected: "+Br.getExceptionName(n),{exception:Br.dump(n)})}},Za.prototype.stopTrackPage=function(e,t,n,i){try{var r;"string"!=typeof e&&(e=(r=E())&&r.title||""),"string"!=typeof t&&(t=(r=z())&&r.href||""),this._pageTracking.stop(e,t,n,i),this.config.autoTrackPageVisitTime&&this._pageVisitTimeManager.trackPreviousPageVisit(e,t)}catch(a){this.diagLog().throwInternal(te.CRITICAL,ae.StopTrackFailed,"stopTrackPage failed, page view will not be collected: "+Br.getExceptionName(a),{exception:Br.dump(a)})}},Za.prototype.sendExceptionInternal=function(e,t,n){e=new ia(this.diagLog(),e.exception||Error(Br.NotSpecified),e.properties,e.measurements,e.severityLevel,e.id).toInterface(),n=za.create(e,ia.dataType,ia.envelopeType,this.diagLog(),t,n),this.core.track(n)},Za.prototype.trackException=function(e,t){try{this.sendExceptionInternal(e,t)}catch(n){this.diagLog().throwInternal(te.CRITICAL,ae.TrackExceptionFailed,"trackException failed, exception will not be collected: "+Br.getExceptionName(n),{exception:Br.dump(n)})}},Za.prototype._onerror=function(e){try{var t,n={url:e&&e.url||(E()||{}).URL,lineNumber:e.lineNumber,columnNumber:e.columnNumber,message:e.message};Br.isCrossOriginError(e.message,e.url,e.lineNumber,e.columnNumber,e.error)?this._sendCORSException(n.url):(Br.isError(e.error)||(t="window.onerror@"+n.url+":"+e.lineNumber+":"+(e.columnNumber||0),e.error=Error(e.message),e.error.stack=t),this.trackException({exception:e.error,severityLevel:Va.Error},n))}catch(r){var i=e.error?e.error.name+", "+e.error.message:"null";this.diagLog().throwInternal(te.CRITICAL,ae.ExceptionWhileLoggingError,"_onError threw exception while logging error, error will not be collected: "+Br.getExceptionName(r),{exception:Br.dump(r),errorString:i})}},Za.prototype.addTelemetryInitializer=function(e){this._telemetryInitializers.push(e)},Za.prototype.initialize=function(e,t,n,i){var a=this;if(!this.isInitialized()){if($.isNullOrUndefined(t))throw Error("Error initializing");Qa.prototype.initialize.call(this,e,t,n,i),this.setInitialized(!1);var r=this._getTelCtx(),o=this.identifier;this._globalconfig={instrumentationKey:e.instrumentationKey,endpointUrl:e.endpointUrl||"https://dc.services.visualstudio.com/v2/track"},this.config=r.getExtCfg(o),(t=Za.getDefaultConfig())!==undefined&&(Q(t,function(e,t){a.config[e]=r.getConfig(o,e,t)}),this._globalconfig&&Q(t,function(e,t){a._globalconfig[e]===undefined&&(a._globalconfig[e]=t)})),this.config.isCookieUseDisabled&&Br.disableCookies(),this.config.isStorageUseDisabled&&Br.disableStorage(),i={instrumentationKey:function(){return e.instrumentationKey},accountId:function(){return a.config.accountId||e.accountId},sessionRenewalMs:function(){return a.config.sessionRenewalMs||e.sessionRenewalMs},sessionExpirationMs:function(){return a.config.sessionExpirationMs||e.sessionExpirationMs},sampleRate:function(){return a.config.samplingPercentage||e.samplingPercentage},cookieDomain:function(){return a.config.cookieDomain||e.cookieDomain},sdkExtension:function(){return a.config.sdkExtension||e.sdkExtension},isBrowserLinkTrackingEnabled:function(){return a.config.isBrowserLinkTrackingEnabled||e.isBrowserLinkTrackingEnabled},appId:function(){return a.config.appId||e.appId}},this._pageViewPerformanceManager=new ja(this.core),this._pageViewManager=new Ga(this,this.config.overridePageViewDuration,this.core,this._pageViewPerformanceManager),this._pageVisitTimeManager=new Wa(this.diagLog(),function(e,t,n){return a.trackPageVisitTime(e,t,n)}),this._telemetryInitializers=this._telemetryInitializers||[],this._addDefaultTelemetryInitializers(i),this._eventTracking=new $a(this.diagLog(),"trackEvent"),this._eventTracking.action=function(e,t,n,i){(i=i||{})[Ya]=n.toString(),a.trackEvent({name:e,properties:i})},this._pageTracking=new $a(this.diagLog(),"trackPageView"),this._pageTracking.action=function(e,t,n,i,r){(i=$.isNullOrUndefined(i)?{}:i)[Ya]=n.toString(),r={name:e,uri:t,properties:i,measurements:r},a.sendPageViewInternal(r,i)};var s,c,u,l,p,f=C(),t=typeof history===h&&history?history:I("history"),d=z(),g=this;!1===this.config.disableExceptionTracking&&!this.config.autoExceptionInstrumented&&f&&(s=f.onerror,f.onerror=function(e,t,n,i,r){var a=s&&s(e,t,n,i,r);return!0!==a&&g._onerror({message:e,url:t,lineNumber:n,columnNumber:i,error:r}),a},this.config.autoExceptionInstrumented=!0),!1===this.config.disableExceptionTracking&&!0===this.config.enableUnhandledPromiseRejectionTracking&&!this.config.autoUnhandledPromiseInstrumented&&f&&(c=f[i="onunhandledrejection"],f[i]=function(e){var t=c&&c.call(f,e);return!0!==t&&g._onerror({message:e.reason.toString(),error:e.reason instanceof Error?e.reason:Error(e.reason.toString()),url:d?d.href:"",lineNumber:0,columnNumber:0}),t},this.config.autoUnhandledPromiseInstrumented=!0),!0===this.config.enableAutoRouteTracking&&t&&$.isFunction(t.pushState)&&$.isFunction(t.replaceState)&&f&&"undefined"!=typeof Event&&(u=this,$.arrForEach(n,function(e){"AppInsightsPropertiesPlugin"===e.identifier&&(a._properties=e)}),t.pushState=(p=t.pushState,function(){var e=p.apply(this,arguments);return Ja(f,Br.createDomEvent(u.config.namePrefix+"pushState")),Ja(f,Br.createDomEvent(u.config.namePrefix+"locationchange")),e}),t.replaceState=(l=t.replaceState,function(){var e=l.apply(this,arguments);return Ja(f,Br.createDomEvent(u.config.namePrefix+"replaceState")),Ja(f,Br.createDomEvent(u.config.namePrefix+"locationchange")),e}),f.addEventListener&&(f.addEventListener(u.config.namePrefix+"popstate",function(){Ja(f,Br.createDomEvent(u.config.namePrefix+"locationchange"))}),f.addEventListener(u.config.namePrefix+"locationchange",function(){u._properties&&u._properties.context&&u._properties.context.telemetryTrace&&(u._properties.context.telemetryTrace.traceID=Br.generateW3CId(),u._properties.context.telemetryTrace.name=d&&d.pathname||"_unknown_"),a._currUri&&(a._prevUri=a._currUri),a._currUri=d&&d.href||"",setTimeout((function(e){u.trackPageView({refUri:e,properties:{duration:0}})}).bind(a,a._prevUri),u.autoRoutePVDelay)}))),this.setInitialized(!0)}},Za.prototype.trackPageVisitTime=function(e,t,n){t={PageName:e,PageUrl:t},this.trackMetric({name:"PageVisitTime",average:n,max:n,min:n,sampleCount:1},t)},Za.prototype._addDefaultTelemetryInitializers=function(e){var i;e.isBrowserLinkTrackingEnabled()||(i=["/browserLinkSignalR/","/__browserLink/"],this._addTelemetryInitializer(function(e){if(e.baseType===wa.dataType){var t=e.baseData;if(t)for(var n=0;n<i.length;n++)if(t.target&&~t.target.indexOf(i[n]))return!1}return!0}))},Za.prototype._addTelemetryInitializer=function(e){this._telemetryInitializers.push(e)},Za.prototype._sendCORSException=function(e){var t={message:"Script error: The browser's same-origin policy prevents us from getting the details of this exception. Consider using the 'crossorigin' attribute.",url:e,lineNumber:0,columnNumber:0,error:undefined},e=za.create(t,ia.dataType,ia.envelopeType,this.diagLog(),{url:e});this.core.track(e)},Za.Version="2.5.11",Za);function Za(){var e=Qa.call(this)||this;e.identifier="ApplicationInsightsAnalytics",e.priority=180,e.autoRoutePVDelay=500,e._trackAjaxAttempts=0;var t=z();return e._prevUri=t&&t.href||"",e}var $a=(eo.prototype.start=function(e){"undefined"!=typeof this._events[e]&&this._logger.throwInternal(te.WARNING,ae.StartCalledMoreThanOnce,"start was called more than once for this event without calling stop.",{name:this._name,key:e},!0),this._events[e]=+new Date},eo.prototype.stop=function(e,t,n,i){var r,a=this._events[e];isNaN(a)?this._logger.throwInternal(te.WARNING,ae.StopCalledWithoutStart,"stop was called without a corresponding start.",{name:this._name,key:e},!0):(r=+new Date,r=qr.GetDuration(a,r),this.action(e,t,r,n,i)),delete this._events[e],this._events[e]=undefined},eo);function eo(e,t){this._name=t,this._events={},this._logger=e}function to(n){Q(n,function(e,t){tn(t)&&("{}"!==JSON.stringify(t)||"callback"===e)||delete n[e]})}function no(e,t,n){var i=e;if(i){for(;!t(i,n);)if(!(i=i.parentNode)||!i.getAttribute)return null;return i}}function io(e){return"A"===e.nodeName}function ro(e,t){return tn(ao(e,t))}function ao(e,t){return no(e,oo,t)}function oo(e,t){return tn(t=e.getAttribute(t))||""===t}function so(e){return"["+e+"]"}function co(n,i,r,a){var o;return function(){var e=arguments,t=!o;clearTimeout(o),o=setTimeout(function(){o=0,i&&i.apply(a,e)},r),t&&n&&n.apply(a,e)}}function uo(){var e=C(),t=E();return t&&e?{h:parseInt(t.body.scrollLeft||t.documentElement.scrollLeft||e.pageXOffset,10),v:parseInt(t.body.scrollTop||t.documentElement.scrollTop||e.pageYOffset,10)}:{h:0,v:0}}function lo(){var e,t={h:0,w:0},n=C(),i=E();return n&&i&&n.screen&&(e=i.body||{},i=i.documentElement||{},t.h=n.innerHeight||e.clientHeight||i.clientHeight,t.w=n.innerWidth||e.clientWidth||i.clientWidth),t}var po,fo={CLICKLEFT:"CL",CLICKRIGHT:"CR",CLICKMIDDLE:"CM",SCROLL:"S",ZOOM:"Z",RESIZE:"R",KEYBOARDENTER:"KE",KEYBOARDSPACE:"KS",OTHER:"O"};(Ze=po={})[Ze.PAGE_ACTION=0]="PAGE_ACTION",Ze[Ze.CONTENT_UPDATE=1]="CONTENT_UPDATE";var go={BUTTON:!0,CHECKBOX:!0,RADIO:!0,RESET:!0,SUBMIT:!0};function ho(e){if(e&&e.attributes)try{var t=e.getAttribute("data-dc");return tn(t)&&"pii"==t.toLowerCase()}catch(n){return}}function mo(e,t){var n,i="",r={},a=[],o=e.cookiesToCollect;!1===e.shareAuthStatus?a=o:Bt(o,function(e){"ANON"!==e&&a.push(e)});try{try{en&&window.varCustomerCookies&&0<window.varCustomerCookies.length&&(a=a.concat(window.varCustomerCookies))}catch(s){t.throwInternal(te.CRITICAL,xt.FailedToGetCookies,"Failed to get cookies ")}Bt(a,function(e){r.hasOwnProperty(e)||(r[e]="",$t&&""!==(n=decodeURIComponent(document.cookie.replace(RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1")))&&(i+=e+"="+n+";"))})}catch(s){t.throwInternal(te.CRITICAL,xt.FailedToGetCookies,"Failed to get cookies ")}return i}function vo(t){!function n(e){var t=E()||{};/in/.test(t.readyState)?setTimeout(function(){n(e)},100):e.call()}(function(){var e;$t&&"complete"===document.readyState?t():(e=C())&&(e.addEventListener?e.addEventListener("load",function(){t()}):e.attachEvent&&e.attachEvent("onload",function(){t()}))})}var yo={longNames:{isShortNames:!1,id:"data-bi-id",areaName:"data-bi-area",slotNumber:"data-bi-slot",contentName:"data-bi-name",contentSource:"data-bi-source",templateName:"data-bi-view",productId:"data-bi-product",contentType:"data-bi-type",parentId:"data-bi-parentid",parentName:"data-bi-parentname"},shortNames:{isShortNames:!0,id:"data-bi-id",areaName:"data-bi-an",slotNumber:"data-bi-sn",contentName:"data-bi-cn",contentSource:"data-bi-cs",templateName:"data-bi-tn",productId:"data-bi-pid",contentType:"data-bi-ct",parentId:"data-bi-pi",parentName:"data-bi-pn"}},Io={parentId:"parentId",parentName:"parentName"},To={parentId:"pI",parentName:"pN"},Co=(Eo.prototype.getMetadata=function(){var e={},t={};return $t&&(t=this._getMetaDataFromDOM("awa-",!0),this._config.autoCapture&&this._config.autoCapture.msTags&&(e=this._getMetaDataFromDOM("ms.",!1))),hn(!0,t,e)},Eo.prototype.getVisibleContent=function(){var e,t,n,i,r,a,o,s,c=lo(),u={top:0,bottom:c.h,left:0,right:c.w},l=null,p=[];if(l=$t?document.querySelectorAll(so(this._contentBlobFieldNames.areaName)+","+so(this._contentBlobFieldNames.slotNumber)+","+so(this._config.biBlobAttributeTag)):l)for(var f=0;f<l.length;f++){var d=l[f];ro(d,"data-bi-dnt")||(0,!(0<(i=u,r=(n=(e=d).getBoundingClientRect()).left,a=n.top,o=n.right,e=n.bottom,t=i.left,s=i.top,n=i.right,i=i.bottom,Math.max(0,Math.min(o,n)-Math.max(r,t))*Math.max(0,Math.min(e,i)-Math.max(a,s)))))||(d=this.getElementContent(d,po.CONTENT_UPDATE))&&p.push(d)}return p},Eo.prototype.getElementContent=function(e,t){if(!e)return{};var n,i,r,a={};if(this._isTracked(e))if(this._isTrackedWithDataM(e)){i=(n=e).getAttribute(this._config.biBlobAttributeTag);try{a=JSON.parse(i)}catch(o){this._traceLogger.throwInternal(te.CRITICAL,xt.CannotParseBiBlobValue,"Can not parse "+i)}}else this._isTrackedWithDataBi(e)&&(r=e,a=hn(a,this._populateElementContentwithDataBi(r,e)));else if(i=(n=ao(e,this._config.biBlobAttributeTag))?n.getAttribute(this._config.biBlobAttributeTag):i)try{a=JSON.parse(i)}catch(o){this._traceLogger.throwInternal(te.CRITICAL,xt.CannotParseBiBlobValue,"Can not parse "+i)}else r=no(e,this._isTrackedWithDataBi),a=hn(a,this._populateElementContentwithDataBi(r,e));return to(a),this._config.autoCapture.lineage&&t===po.PAGE_ACTION&&(a=hn(a,this.getLineageDetails(e))),this._config.autoPopulateParentIdAndParentName?hn(a,this._getParentDetails(n||r,a)):a},Eo.prototype.getLineageDetails=function(e){for(var t,n,i,r=[],a=[],o=this._config.biBlobAttributeTag,s="data-module-id";e;){var c=e.getAttribute(o)||e[o],u=e.getAttribute(s)||e[s];if(c){try{var l=JSON.parse(c)}catch(p){this._traceLogger.throwInternal(te.CRITICAL,xt.CannotParseDataAttribute,"Can not parse "+c)}l&&(n=l.cN||l.cT,i=l.id||undefined,(n||i)&&(r.push(n),u&&(t=n),a.push(i)))}else n=e.getAttribute(this._contentBlobFieldNames.contentName)||e.getAttribute(this._contentBlobFieldNames.contentType),i=e.getAttribute(this._contentBlobFieldNames.id)||undefined,(n||i)&&(r.push(n),u&&(t=n),a.push(i));e=e.parentElement}return{lineage:r.join(">"),lineageById:a.join(">"),lineageContainerName:t}},Eo.prototype._populateElementContentwithDataBi=function(e,t){var n={};if(!e){if(!this._config.useDefaultContentName)return n;e=t}var i=ao(e,this._contentBlobFieldNames.areaName),r=hn({},this._getAreaContent(i)),t=this._config.callback.contentName?this._config.callback.contentName(e,this._config.useDefaultContentName):"",i=this._getDefaultContentName(e,this._config.useDefaultContentName);(n={id:e.getAttribute(this._contentBlobFieldNames.id)||e.id||"",aN:r.areaName,sN:e.getAttribute(this._contentBlobFieldNames.slotNumber),cN:t||e.getAttribute(this._contentBlobFieldNames.contentName)||i||e.getAttribute("alt")||"",cS:e.getAttribute(this._contentBlobFieldNames.contentSource)||r.contentSource,tN:r.templateName,pid:e.getAttribute(this._contentBlobFieldNames.productId),cT:e.getAttribute(this._contentBlobFieldNames.contentType)||r.type,pI:e.getAttribute(this._contentBlobFieldNames.parentId),pN:e.getAttribute(this._contentBlobFieldNames.parentName)}).id&&n.aN&&n.sN&&n.cN||this._traceLogger.throwInternal(te.WARNING,xt.InvalidContentBlob,"Invalid content blob.  Missing required attributes (id, aN/area, sN/slot), cN/contentName.  Content information will still be collected!"),this._contentBlobFieldNames.isShortNames||(n={contentId:n.id,areaName:n.aN,slotNumber:n.sN,contentName:n.cN,contentSource:n.cS,templateName:n.tN,productId:n.pid,contentType:n.cT,parentId:n.pI,parentName:n.pN});for(var a,o=0;o<e.attributes.length;o++)(a=e.attributes[o]).name!==this._contentBlobFieldNames.id&&a.name!==this._contentBlobFieldNames.areaName&&a.name!==this._contentBlobFieldNames.slotNumber&&a.name!==this._contentBlobFieldNames.contentName&&a.name!==this._contentBlobFieldNames.contentSource&&a.name!==this._contentBlobFieldNames.templateName&&a.name!==this._contentBlobFieldNames.productId&&a.name!==this._contentBlobFieldNames.contentType&&a.name!==this._contentBlobFieldNames.parentId&&a.name!==this._contentBlobFieldNames.parentName&&~a.name.indexOf("data-bi-")&&(n[a.name.replace("data-bi-","")]=a.value);return n},Eo.prototype._getMetaDataFromDOM=function(e,t){var n,i={};if($t){n=document.querySelectorAll("meta");for(var r=0;r<n.length;r++){var a=n[r];a.name&&(a.name.toLowerCase().indexOf(e)||(i[t?a.name.replace(e,""):a.name]=a.content))}}return i},Eo.prototype._getAreaContent=function(e){if(e)return{areaName:e.getAttribute(this._contentBlobFieldNames.areaName),templateName:e.getAttribute(this._contentBlobFieldNames.templateName),contentSource:e.getAttribute(this._contentBlobFieldNames.contentSource),product:e.getAttribute(this._contentBlobFieldNames.productId),type:e.getAttribute(this._contentBlobFieldNames.contentType)}},Eo.prototype._getDefaultContentName=function(e,t){if(!1===t||ho(e)||!e.tagName)return"";var n,i=E()||{};switch(e.tagName){case"A":n=i.all?e.innerText||e.innerHTML:e.text||e.innerHTML;break;case"IMG":case"AREA":n=e.alt;break;default:n=e.value||e.name||e.alt||e.innerText||e.id}return n.substring(0,200)},Eo.prototype._getParentDetails=function(e,t){var n=(this._contentBlobFieldNames.isShortNames?To:Io).parentId,i=(this._contentBlobFieldNames.isShortNames?To:Io).parentName,r=t[n],t=t[i];return r||t||!e?{}:this._populateParentInfo(e,n,i)},Eo.prototype._isTrackedWithDataM=function(e){for(var t=e.attributes,n=0;n<t.length;n++)if(~t[n].name.indexOf("data-m"))return!0;return!1},Eo.prototype._isTrackedWithDataBi=function(e){for(var t=e.attributes,n=0;n<t.length;n++)if(~t[n].name.indexOf("data-bi-"))return!0;return!1},Eo.prototype._isTracked=function(e){for(var t=e.attributes,n=0;n<t.length;n++)if(~t[n].name.indexOf("data-m")||~t[n].name.indexOf("data-bi-"))return!0;return!1},Eo.prototype._populateParentInfo=function(e,t,n){var i,r,a={},o=this._config.biBlobAttributeTag,s=no(e.parentElement,this._isTracked);if(s){var c=s.getAttribute(o)||e[o];if(c){try{var u=JSON.parse(c)}catch(l){this._traceLogger.throwInternal(te.CRITICAL,xt.CannotParseDataAttribute,"Can not parse "+c)}u&&(i=u.id,r=u.cN)}else i=s.getAttribute(this._contentBlobFieldNames.id),r=s.getAttribute(this._contentBlobFieldNames.contentName);i&&(a[t]=i),r&&(a[n]=r)}return a},Eo);function Eo(e,t){this._config=e,this._traceLogger=t,this._contentBlobFieldNames=null,this._contentBlobFieldNames=!0===this._config.useShortNameForContentBlob?yo.shortNames:yo.longNames}var So={BUTTON:!0,CHECKBOX:!0,RADIO:!0,RESET:!0,SUBMIT:!0},No=(_o.prototype.pageView=function(){this._analyticsPlugin.capturePageView({isAuto:!0})},_o.prototype.onLoad=function(){var e=this;vo(function(){e._analyticsPlugin.capturePageViewPerformance({isAuto:!0}),e._analyticsPlugin.captureContentUpdate({isAuto:!0,isDomComplete:!0})})},_o.prototype.click=function(){var e,t=this,n=C(),i=E();n&&n.addEventListener?(e=~navigator.appVersion.indexOf("MSIE")?"click":"mousedown",n.addEventListener(e,function(e){t._processClick(e)},!1),n.addEventListener("keyup",function(e){t._processClick(e)},!1)):i&&i.attachEvent&&(i.attachEvent("onclick",function(e){t._processClick(e)}),i.attachEvent("keyup",function(e){t._processClick(e)}))},_o.prototype.scroll=function(e){var t=this,n=co(null,function(){t._analyticsPlugin.captureContentUpdate({isAuto:!0,actionType:fo.SCROLL})},e.scroll,this);(e=C())&&(e.addEventListener?e.addEventListener("scroll",n):window.attachEvent&&window.attachEvent("onscroll",n))},_o.prototype.maxScroll=function(t){var e=function(){var e=uo();t.v=(t.v>e.v?t:e).v},n=C();n&&(n.addEventListener?n.addEventListener("scroll",e):n.attachEvent&&n.attachEvent("onscroll",e))},_o.prototype.resize=function(e){var t=this,n=co(function(){t._analyticsPlugin.captureContentUpdate({isAuto:!0,actionType:fo.RESIZE})},null,e.resize,this);(e=C())&&(e.addEventListener?e.addEventListener("resize",n):e.attachEvent&&e.attachEvent("onresize",n))},_o.prototype.onUnload=function(){var e=this;Tn(function(){e._analyticsPlugin.capturePageUnload({isAuto:!0})})},_o.prototype._processClick=function(e){var t={A:!0,BUTTON:!0,AREA:!0,INPUT:!0},n=C(),i=(e=e||n.event).srcElement||e.target,r={isAuto:!0,clickCoordinateX:e.pageX,clickCoordinateY:e.pageY},a="which"in(n=e)?3===n.which:"button"in n?2===n.button:void 0;if(a)r.actionType=fo.CLICKRIGHT;else if("which"in(n=e)?1===n.which:"button"in n&&1===n.button)r.actionType=fo.CLICKLEFT;else if("keyCode"in(n=e)&&13===n.keyCode)r.actionType=fo.KEYBOARDENTER;else if("keyCode"in(n=e)&&32===n.keyCode)r.actionType=fo.KEYBOARDSPACE;else{if(!("which"in e?2===e.which:"button"in e&&4===e.button))return;r.actionType=fo.CLICKMIDDLE}for(;i&&i.tagName;){if(t[(i=i.control&&t[i.control.tagName.toUpperCase()]?i.control:i).tagName.toUpperCase()]){"INPUT"==i.tagName.toUpperCase()&&!So[i.type.toUpperCase()]||this._analyticsPlugin.capturePageAction(i,r,{},a);break}i=i.parentElement||i.parentNode}},_o);function _o(e,t){this._analyticsPlugin=e,this._traceLogger=t}function bo(e,t,n){var i="";return t&&t[n]?i=t[n]:e&&(i=e[n]),i}function xo(e,t,n,i,r,a,o){this._webAnalyticsPlugin=e,this._config=t,this._contentHandler=n,this._id=i,this._pageTagsCallback=r,this._metaTags=a,this._traceLogger=o,this._pageTags={}}(Ze=n.Behavior||(n.Behavior={}))[Ze.UNDEFINED=0]="UNDEFINED",Ze[Ze.NAVIGATIONBACK=1]="NAVIGATIONBACK",Ze[Ze.NAVIGATION=2]="NAVIGATION",Ze[Ze.NAVIGATIONFORWARD=3]="NAVIGATIONFORWARD",Ze[Ze.APPLY=4]="APPLY",Ze[Ze.REMOVE=5]="REMOVE",Ze[Ze.SORT=6]="SORT",Ze[Ze.EXPAND=7]="EXPAND",Ze[Ze.REDUCE=8]="REDUCE",Ze[Ze.CONTEXTMENU=9]="CONTEXTMENU",Ze[Ze.TAB=10]="TAB",Ze[Ze.COPY=11]="COPY",Ze[Ze.EXPERIMENTATION=12]="EXPERIMENTATION",Ze[Ze.PRINT=13]="PRINT",Ze[Ze.SHOW=14]="SHOW",Ze[Ze.HIDE=15]="HIDE",Ze[Ze.MAXIMIZE=16]="MAXIMIZE",Ze[Ze.MINIMIZE=17]="MINIMIZE",Ze[Ze.BACKBUTTON=18]="BACKBUTTON",Ze[Ze.STARTPROCESS=20]="STARTPROCESS",Ze[Ze.PROCESSCHECKPOINT=21]="PROCESSCHECKPOINT",Ze[Ze.COMPLETEPROCESS=22]="COMPLETEPROCESS",Ze[Ze.SCENARIOCANCEL=23]="SCENARIOCANCEL",Ze[Ze.DOWNLOADCOMMIT=40]="DOWNLOADCOMMIT",Ze[Ze.DOWNLOAD=41]="DOWNLOAD",Ze[Ze.SEARCHAUTOCOMPLETE=60]="SEARCHAUTOCOMPLETE",Ze[Ze.SEARCH=61]="SEARCH",Ze[Ze.SEARCHINITIATE=62]="SEARCHINITIATE",Ze[Ze.TEXTBOXINPUT=63]="TEXTBOXINPUT",Ze[Ze.PURCHASE=80]="PURCHASE",Ze[Ze.ADDTOCART=81]="ADDTOCART",Ze[Ze.VIEWCART=82]="VIEWCART",Ze[Ze.ADDWISHLIST=83]="ADDWISHLIST",Ze[Ze.FINDSTORE=84]="FINDSTORE",Ze[Ze.CHECKOUT=85]="CHECKOUT",Ze[Ze.REMOVEFROMCART=86]="REMOVEFROMCART",Ze[Ze.PURCHASECOMPLETE=87]="PURCHASECOMPLETE",Ze[Ze.VIEWCHECKOUTPAGE=88]="VIEWCHECKOUTPAGE",Ze[Ze.VIEWCARTPAGE=89]="VIEWCARTPAGE",Ze[Ze.VIEWPDP=90]="VIEWPDP",Ze[Ze.UPDATEITEMQUANTITY=91]="UPDATEITEMQUANTITY",Ze[Ze.INTENTTOBUY=92]="INTENTTOBUY",Ze[Ze.PUSHTOINSTALL=93]="PUSHTOINSTALL",Ze[Ze.SIGNIN=100]="SIGNIN",Ze[Ze.SIGNOUT=101]="SIGNOUT",Ze[Ze.SOCIALSHARE=120]="SOCIALSHARE",Ze[Ze.SOCIALLIKE=121]="SOCIALLIKE",Ze[Ze.SOCIALREPLY=122]="SOCIALREPLY",Ze[Ze.CALL=123]="CALL",Ze[Ze.EMAIL=124]="EMAIL",Ze[Ze.COMMUNITY=125]="COMMUNITY",Ze[Ze.SOCIALFOLLOW=126]="SOCIALFOLLOW",Ze[Ze.VOTE=140]="VOTE",Ze[Ze.SURVEYINITIATE=141]="SURVEYINITIATE",Ze[Ze.SURVEYCOMPLETE=142]="SURVEYCOMPLETE",Ze[Ze.REPORTAPPLICATION=143]="REPORTAPPLICATION",Ze[Ze.REPORTREVIEW=144]="REPORTREVIEW",Ze[Ze.SURVEYCHECKPOINT=145]="SURVEYCHECKPOINT",Ze[Ze.CONTACT=160]="CONTACT",Ze[Ze.REGISTRATIONINITIATE=161]="REGISTRATIONINITIATE",Ze[Ze.REGISTRATIONCOMPLETE=162]="REGISTRATIONCOMPLETE",Ze[Ze.CANCELSUBSCRIPTION=163]="CANCELSUBSCRIPTION",Ze[Ze.RENEWSUBSCRIPTION=164]="RENEWSUBSCRIPTION",Ze[Ze.CHANGESUBSCRIPTION=165]="CHANGESUBSCRIPTION",Ze[Ze.REGISTRATIONCHECKPOINT=166]="REGISTRATIONCHECKPOINT",Ze[Ze.CHATINITIATE=180]="CHATINITIATE",Ze[Ze.CHATEND=181]="CHATEND",Ze[Ze.TRIALSIGNUP=200]="TRIALSIGNUP",Ze[Ze.TRIALINITIATE=201]="TRIALINITIATE",Ze[Ze.SIGNUP=210]="SIGNUP",Ze[Ze.FREESIGNUP=211]="FREESIGNUP",Ze[Ze.PARTNERREFERRAL=220]="PARTNERREFERRAL",Ze[Ze.LEARNLOWFUNNEL=230]="LEARNLOWFUNNEL",Ze[Ze.LEARNHIGHFUNNEL=231]="LEARNHIGHFUNNEL",Ze[Ze.SHOPPINGINTENT=232]="SHOPPINGINTENT",Ze[Ze.VIDEOSTART=240]="VIDEOSTART",Ze[Ze.VIDEOPAUSE=241]="VIDEOPAUSE",Ze[Ze.VIDEOCONTINUE=242]="VIDEOCONTINUE",Ze[Ze.VIDEOCHECKPOINT=243]="VIDEOCHECKPOINT",Ze[Ze.VIDEOJUMP=244]="VIDEOJUMP",Ze[Ze.VIDEOCOMPLETE=245]="VIDEOCOMPLETE",Ze[Ze.VIDEOBUFFERING=246]="VIDEOBUFFERING",Ze[Ze.VIDEOERROR=247]="VIDEOERROR",Ze[Ze.VIDEOMUTE=248]="VIDEOMUTE",Ze[Ze.VIDEOUNMUTE=249]="VIDEOUNMUTE",Ze[Ze.VIDEOFULLSCREEN=250]="VIDEOFULLSCREEN",Ze[Ze.VIDEOUNFULLSCREEN=251]="VIDEOUNFULLSCREEN",Ze[Ze.VIDEOREPLAY=252]="VIDEOREPLAY",Ze[Ze.VIDEOPLAYERLOAD=253]="VIDEOPLAYERLOAD",Ze[Ze.VIDEOPLAYERCLICK=254]="VIDEOPLAYERCLICK",Ze[Ze.VIDEOVOLUMECONTROL=255]="VIDEOVOLUMECONTROL",Ze[Ze.VIDEOAUDIOTRACKCONTROL=256]="VIDEOAUDIOTRACKCONTROL",Ze[Ze.VIDEOCLOSEDCAPTIONCONTROL=257]="VIDEOCLOSEDCAPTIONCONTROL",Ze[Ze.VIDEOCLOSEDCAPTIONSTYLE=258]="VIDEOCLOSEDCAPTIONSTYLE",Ze[Ze.VIDEORESOLUTIONCONTROL=259]="VIDEORESOLUTIONCONTROL",Ze[Ze.VIRTUALEVENTJOIN=260]="VIRTUALEVENTJOIN",Ze[Ze.VIRTUALEVENTEND=261]="VIRTUALEVENTEND",Ze[Ze.IMPRESSION=280]="IMPRESSION",Ze[Ze.CLICK=281]="CLICK",Ze[Ze.RICHMEDIACOMPLETE=282]="RICHMEDIACOMPLETE",Ze[Ze.ADBUFFERING=283]="ADBUFFERING",Ze[Ze.ADERROR=284]="ADERROR",Ze[Ze.ADSTART=285]="ADSTART",Ze[Ze.ADCOMPLETE=286]="ADCOMPLETE",Ze[Ze.ADSKIP=287]="ADSKIP",Ze[Ze.ADTIMEOUT=288]="ADTIMEOUT",Ze[Ze.OTHER=300]="OTHER",xo.prototype._setBasicProperties=function(e,t){var n;e.ver="1.0",e.id=this._id.getLastPageViewId(),tn(e.name)||(e.name=(n=this._config,t&&t.pageName?t.pageName:n.callback&&"function"==typeof n.callback.pageName?n.callback.pageName():n.coreData&&n.coreData.pageName?n.coreData.pageName:t=(n=(t=(z()||{}).pathname||"").split("/"))&&""!==n[n.length-1]?n[n.length-1]:"Undefined")),!tn(e.uri)&&en&&(e.uri=(t=this._config,e=z(),t.coreData&&t.coreData.requestUri&&""!==t.coreData.requestUri?t.coreData.requestUri:function(e,t){if(!t)return null;var n=t.protocol+"//"+(t.hostname||t.host)+(tn(t.port)?":"+t.port:"")+t.pathname;if(e.urlCollectHash&&(n+=t.hash||""),e.urlCollectQuery){var i=t.search;return i||-1!=(t=(e=t.hash||"").indexOf("?"))&&(i=e.slice(t)),n+i}return n}(t,e)))},xo.prototype._setCommonProperties=function(e,t,n){var i=this;i._setBasicProperties(e,n),i._setPageTags(e,n),i._pageTypeMetaTag=bo(i._metaTags,i._config.coreData,"pageType"),i._marketMetaTag=bo(i._metaTags,i._config.coreData,"market"),i._behaviorMetaTag=bo(i._metaTags,i._config.coreData,"behavior"),tn(n.pageType)&&(e.pageType=n.pageType),tn(i._pageTypeMetaTag)&&!tn(e.pageType)&&(e.pageType=i._pageTypeMetaTag),tn(i._marketMetaTag)&&(e.market=i._marketMetaTag),e.isLoggedIn=(i=i._config).callback&&"function"==typeof i.callback.signedinStatus?i.callback.signedinStatus():i.isLoggedIn,t.cookieEnabled=un()},xo.prototype._setPageTags=function(e,t){var n=this;n._config.coreData&&n._config.coreData.pageTags&&(n._pageTags=hn(!0,n._pageTags,n._config.coreData.pageTags)),n._pageTagsCallback&&(n._pageTags=hn(!0,n._pageTags,n._pageTagsCallback())),tn(t.pageTags)&&(n._pageTags=hn(!0,n._pageTags,t.pageTags)),n._metaTags&&(n._pageTags.metaTags={},Q(n._metaTags,function(e,t){"behavior"!==e&&"market"!==e&&"pageType"!==e&&(n._pageTags.metaTags[e]=t)})),e.properties=e.properties||{},e.properties.pageTags=n._pageTags},xo.prototype._getBehavior=function(e){var t;return e&&tn(e.behavior)?t=e.behavior:tn(this._behaviorMetaTag)&&(t=this._behaviorMetaTag),this._getValidBehavior(t)},xo.prototype._getValidBehavior=function(e){if(tn(e)){var t=parseInt(e);if((t=isNaN(t)?n.Behavior[e]:t)in n.Behavior)return t}return 0};var wo,Ao=(wo=Ze=xo,__extends(Po,wo),Po.prototype.capturePageView=function(e,t){e=tn(e)?e:{};var n={},i=tn(t)?t:{};this._setCommonProperties(n,i,e),n.refUri=(tn(e.referrerUri)?e:this._config.coreData).referrerUri,n.isManual=!e.isAuto,(t=mo(this._config,this._traceLogger))&&(i.cookies=t),i.behavior=this._getBehavior(e),this._webAnalyticsPlugin.trackPageView(n,i)},Po);function Po(){return null!==wo&&wo.apply(this,arguments)||this}var Oo,Do=(Oo=Ze,__extends(ko,Oo),ko.prototype.trackPageAction=function(e,t){var n={web:{}};n.web.isManual=e.isManual;var i={name:"Ms.Web.PageAction",baseType:"PageActionData",ext:n,data:{},baseData:{},latency:_t.Normal};i.baseData.name=e.name,i.baseData.uri=e.uri,i.baseData.market=e.market,i.baseData.pageType=e.pageType,i.baseData.isLoggedIn=e.isLoggedIn,i.baseData.id=e.id,i.baseData.properties=e.properties,i.baseData.ver=e.ver,i.baseData.actionType=e.actionType,i.baseData.behavior=e.behavior,i.baseData.clickCoordinates=e.clickCoordinates,i.baseData.content=e.content,i.baseData.contentVer=e.contentVer,i.baseData.targetUri=e.targetUri,Q(t,function(e,t){i.data[e]||(i.data[e]=t)}),this._webAnalyticsPlugin.core.track(i)},ko.prototype.capturePageAction=function(e,t,n,i){t=tn(t)?t:{};var r={},a=tn(n)?n:{};this._setCommonProperties(r,a,t),r.isManual=!t.isAuto,r.behavior=this._getBehavior(t);var o={};i&&(r.behavior=9),e&&(r.targetUri=function(e){var t="";switch(e.tagName){case"A":case"AREA":t=e.href||"";break;case"IMG":t=function(e){if(e&&1===(e=no(e,io)).length){if(e[0].href)return e[0].href;if(e[0].src)return e[0].src}return""}(e);break;case"INPUT":var n=e.type;n&&go[n.toUpperCase()]&&(n=z()||{},t=e.form?e.form.action||n.pathname||"":n.pathname||"")}return t}(e),(o=hn(o=this._contentHandler.getElementContent(e,po.PAGE_ACTION),this._getCustomTags(e)))&&o.bhvr&&!tn(t.behavior)&&(n="bhvr",(i=o)&&i[n]&&(s=i[n],delete i[n]),r.behavior=this._getValidBehavior(s))),tn(t.actionType)&&(r.actionType=t.actionType),tn(t.clickCoordinateX)&&tn(t.clickCoordinateY)&&(r.clickCoordinates=t.clickCoordinateX+"X"+t.clickCoordinateY),r.contentVer="2.0";var s=this._config.callback.pageActionContentTags;r.content=so(JSON.stringify(hn(t.content||o,"function"==typeof s?s(e):{},t&&t.contentTags?t.contentTags:{}))),a.timeToAction=this._getTimeToClick(),a.refUri=tn(t.refUri)?t.refUri:this._config.coreData.referrerUri,(t=mo(this._config,this._traceLogger))&&(a.cookies=t),this.trackPageAction(r,a)},ko.prototype._getCustomTags=function(e){for(var t,n={};e;){if(!ho(e))for(var i in e.attributes)i&&(!e.attributes[i]||(t=e.attributes[i].name)&&(t.toLowerCase().indexOf("ms.")||(n[t]=e.attributes[i].value)));e=e.parentElement||e.parentNode}return n},ko.prototype._getTimeToClick=function(){var e=N();return e&&e.timing&&(e=e.timing.navigationStart)&&0!==e?(new Date).getTime()-e:-1},ko);function ko(){return null!==Oo&&Oo.apply(this,arguments)||this}var Lo,Ro=(Lo=Ze,__extends(Mo,Lo),Mo.prototype.trackContentUpdate=function(t,e){var n={web:{}};n.web.isManual=t.isManual;var i={name:"Ms.Web.ContentUpdate",baseType:"ContentUpdateData",ext:n,data:{},baseData:{},latency:3};Bt(["name","uri","market","pageType","isLoggedIn","id","properties","ver","actionType","behavior","pageHeight","content","contentVer","vpHeight","vpWidth","vScrollOffset","hScrollOffset"],function(e){i.baseData[e]=t[e]}),Q(e,function(e,t){i.data[e]||(i.data[e]=t)}),this._webAnalyticsPlugin.core.track(i)},Mo.prototype.captureContentUpdate=function(e,t){e=tn(e)?e:{};var n={},i=tn(t)?t:{};this._setCommonProperties(n,i,e),n.behavior=this._getBehavior(e),tn(e.actionType)&&(n.actionType=e.actionType);var r=lo(),t=uo();n.pageHeight=$t?document.body.scrollHeight:null,n.vpHeight=r.h,n.vpWidth=r.w,n.vScrollOffset=t.v,n.hScrollOffset=t.h,n.contentVer="2.0",n.isManual=!e.isAuto,(t=this._getContentFormatted(e.content)||JSON.stringify(this._contentHandler.getVisibleContent()))&&(n.content=t),tn(e.isDomComplete)?i.isDomComplete=e.isDomComplete:i.isDomComplete=!1,this.trackContentUpdate(n,i)},Mo.prototype._getContentFormatted=function(e){return tn(e)?"[object Array]"===Object.prototype.toString.call(e)?JSON.stringify(e):so(JSON.stringify(e)):undefined},Mo);function Mo(){return null!==Lo&&Lo.apply(this,arguments)||this}var Uo,Vo=(Uo=Ze,__extends(Fo,Uo),Fo.prototype.trackPageUnload=function(e,t){var n={web:{}};n.web.isManual=e.isManual;var i={name:"Ms.Web.PageUnload",baseType:"PageUnloadData",ext:n,data:{},baseData:{},latency:_t.RealTime};i.baseData.name=e.name,i.baseData.uri=e.uri,i.baseData.id=e.id,i.baseData.properties=e.properties,i.baseData.ver=e.ver,i.baseData.market=e.market,i.baseData.pageType=e.pageType,i.baseData.isLoggedIn=e.isLoggedIn,Q(t,function(e,t){i.data[e]||(i.data[e]=t)}),this._webAnalyticsPlugin.core.track(i)},Fo.prototype.capturePageUnload=function(e,t){e=tn(e)?e:{};var n={},i=tn(t)?t:{},t=$t?document.body.scrollHeight:0;this._setBasicProperties(n,e),n.isManual=!e.isAuto,i.dwellTime=this._timestamp._recordTimeSpan("dwellTime",!0),i.scrollDepth=e.scrollDepth||this._maxScroll.v.toString()+"/"+t.toString(),i.vpHeight=lo().h,i.vScrollOffset=e.vScrollOffset||this._maxScroll.v,!en||(e=(e=N())?e.timing:null)&&e.loadEventStart&&e.navigationStart&&0<e.loadEventStart&&(i.pageLoadTime=e.loadEventStart-e.navigationStart),this.trackPageUnload(n,i)},Fo);function Fo(e,t,n,i,r,a){var o=Uo.call(this,e,t,null,n,{},{},i)||this;return o._webAnalyticsPlugin=e,o._config=t,o._id=n,o._traceLogger=i,o._timestamp=r,o._maxScroll=a,o}var Bo,zo=(Bo=Ze,__extends(Ho,Bo),Ho.prototype.capturePageViewPerformance=function(e,t){e=tn(e)?e:{};var n={},t=tn(t)?t:{};this._setBasicProperties(n,e),this._setPageTags(n,e),n.isManual=!e.isAuto,t.behavior=this._getBehavior(e),t.vpHeight=e.vpHeight,t.vpWidth=e.vpWidth,t.framework=e.framework,t.systemTiming=e.systemTiming,t.customTiming=e.customTiming,this._webAnalyticsPlugin._populatePageViewPerformance(n),this._webAnalyticsPlugin.trackPageViewPerformance(n,t)},Ho);function Ho(){return null!==Bo&&Bo.apply(this,arguments)||this}var Go=(Wo.visitorId=function(){return dn("MUID")},Wo.prototype.createTraceId=function(){return gn().replace(/-/g,"")},Wo.prototype.getTraceId=function(){return this.traceId},Wo.prototype.getLastPageViewId=function(){return this.lastPageViewId},Wo.prototype.initializeIds=function(){this.firstPageView?(this.traceId=this.createTraceId(),this.lastPageViewId=gn()):this.firstPageView=!0},Wo.prototype.getMuidUserId=function(){var e=dn("MUID");return e&&e.length?"t:"+e:e},Wo.prototype.setAppUserId=function(e){if(this.appUserId=null,e){for(var t=0;t<Wo.userIdPrefixes.length;t++)if(Wo.userIdPrefixes[t]===e.substring(0,2)){this.appUserId=e;break}this.appUserId}},Wo.prototype.setDeviceClass=function(e){e&&(this.deviceClass=e)},Wo.prototype.getDeviceClass=function(){return this.deviceClass},Wo.prototype.getAppUserId=function(){return this.appUserId},Wo.prototype.syncMuid=function(e){var t=z();t&&(t=(t.protocol||"http:")+"//"+e+"/c.gif?DI=4050&did=1&t=",(e=E())&&((e=e.createElement("IMG")).style.display="none",e.src=t,e.hidden="",e["aria-hidden"]="true",e.role="presentation"))},Wo.prototype.getMuidHost=function(e){return{"microsoft.com":"c1.microsoft.com","xbox.com":"c.xbox.com","live.com":"c.live.com","microsoftstore.com":"c.microsoftstore.com","msn.com":"c.msn.com","windows.com":"c.windows.com","office.com":"c.office.com"}[e]},Wo.userIdPrefixes=["c:","i:","w:"],Wo);function Wo(){this.appUserId=null,this.firstPageView=!1,this.lastPageViewId=gn(),this.traceId=this.createTraceId()}var Ko=(qo.prototype._recordTimeSpan=function(e,t){var n=(new Date).getTime();if(t)return n-this._timers[e];this._timers[e]=n},qo);function qo(){this._timers=[]}var jo,Xo="data-bi-dnt",Yo=(jo=vt,__extends(Jo,jo),Jo.prototype.updateCoreDataConfig=function(e){},Jo.prototype.initialize=function(e,t,n){},Jo.prototype.processTelemetry=function(e,t){},Jo.prototype.addTelemetryInitializer=function(e){},Jo.prototype.trackEvent=function(e,t){},Jo.prototype.trackPageView=function(e,t){},Jo.prototype.capturePageView=function(e,t){},Jo.prototype.trackPageViewPerformance=function(e,t){},Jo.prototype.capturePageViewPerformance=function(e,t){},Jo.prototype.trackException=function(e,t){},Jo.prototype.trackPageAction=function(e,t){},Jo.prototype.capturePageAction=function(e,t,n,i){},Jo.prototype.trackContentUpdate=function(e,t){},Jo.prototype.captureContentUpdate=function(e,t){},Jo.prototype.trackPageUnload=function(e,t){},Jo.prototype.capturePageUnload=function(e,t){},Jo.prototype._populatePageViewPerformance=function(e){},Jo.prototype.setContentHandler=function(e){},Jo.prototype.setAutoCaptureHandler=function(e){},Jo);function Jo(){var u,l,p,f,d,g,h,m=jo.call(this)||this;m.identifier="WebAnalyticsPlugin",m.version="3.0.2";var v,y,I,T={h:0,v:0},i=!1;return Oe(Jo,m,function(s,c){function n(e){var t={};return e.isManual!==undefined&&(t.web={},t.web.isManual=e.isManual===undefined||e.isManual,delete e.isManual),t}s._telemetryInitializers=s._telemetryInitializers||[],s.updateCoreDataConfig=function(e){h.coreData=hn(!0,h.coreData,e)},s.initialize=function(e,t,n){var i=t;e.extensionConfig=e.extensionConfig||[],e.extensionConfig[s.identifier]=e.extensionConfig[s.identifier]||{},s._config=h=function(e){var n,t,i={useDefaultContentName:!0,useShortNameForContentBlob:!0,debounceMs:{scroll:600,resize:3e3},biBlobAttributeTag:"data-m",isLoggedIn:!1,shareAuthStatus:!1,cookiesToCollect:["MSFPC","ANON"],autoCapture:{pageView:!0,onLoad:!0,onUnload:!0,click:!0,scroll:!1,resize:!1,lineage:!1,jsError:!0,msTags:!0},callback:{pageName:null,pageActionPageTags:null,pageViewPageTags:null,contentUpdatePageTags:null,pageActionContentTags:null,signedinStatus:null},coreData:{referrerUri:$t?document.referrer:"",requestUri:"",pageName:"",pageType:"",product:"",market:"",pageTags:{}},autoPopulateParentIdAndParentName:!1,syncMuid:!1,muidDomain:"microsoft.com"},r=[];if(Q(i,function(e,t){$.isObject(t)&&r.push(e)}),e)return t=r,to(n=e),Bt(t,function(e,t){$.isObject(n[e])?to(n[e]):delete n[e]}),hn(!0,i,e)}(e.extensionConfig[s.identifier]);var r=h.autoCapture,a=i.getWParam;if(i.getWParam=function(){var e=0;return h.mscomCookies&&(e|=1),e|a()},e.extensionConfig[s.identifier].disableExceptionTracking=!r.jsError,c.initialize(e,t,n),y=y||new Co(h,s.diagLog()),I=I||new No(s,s.diagLog()),h.manageCv){for(var o=0;o<n.length;o++)if("CorrelationVectorPlugin"===n[o].identifier){h.manageCv=!0,g=n[o];break}g||(s.diagLog().throwInternal(te.WARNING,xt.CVPluginNotAvailable,'Automatic Cv management is set to "true" in config.  However, cv plugin is not available. Disabling automatic Cv management'),h.manageCv=!1)}s.id=new Go,v=new Ko,t=y.getMetadata(),u=new Ao(m,h,y,s.id,h.callback.pageViewPageTags,t,s.diagLog()),l=new Do(m,h,y,s.id,h.callback.pageActionPageTags,t,s.diagLog()),p=new Ro(m,h,y,s.id,h.callback.contentUpdatePageTags,t,s.diagLog()),f=new Vo(m,h,s.id,s.diagLog(),v,T),d=new zo(m,h,y,s.id,h.callback.pageViewPageTags,t,s.diagLog()),h.syncMuid&&vo(function(){var e=s.id.getMuidHost(h.muidDomain);s.id.syncMuid(e)}),r.pageView&&I.pageView(),r.onLoad&&I.onLoad(),r.click&&I.click(),r.scroll&&I.scroll(h.debounceMs),r.resize&&I.resize(h.debounceMs),(r.onUnload||h.manualPageUnload)&&I.maxScroll(T),r.onUnload&&I.onUnload()},s.processTelemetry=function(e,t){Cn(e,s.identifier);var n=e;"PageviewData"===n.baseType?(n.name="Ms.Web.PageView",n.latency=_t.RealTime):"ExceptionData"===n.baseType?(n.name="Ms.Web.ClientError",n.latency=_t.Normal,delete n.baseData.aiDataContract):"PageviewPerformanceData"===n.baseType&&(n.name="Ms.Web.PageViewPerformance",n.latency=_t.Normal,delete n.baseData.isValid,delete n.baseData.durationMs),e=null,"PageviewData"!==n.baseType?h.manageCv&&(e=g.getCv())&&e.increment():h.manageCv&&((e=g.getCv())?e.seed():e=g.getCv());for(var i=!1,r=s._telemetryInitializers.length,a=0;a<r;++a){var o=s._telemetryInitializers[a];if(o&&!1===o.call(null,n)){i=!0;break}}i||s.processNext(n,t)},s.addTelemetryInitializer=function(e){s._telemetryInitializers.push(e)},s.trackEvent=function(n,e){n.latency=n.latency||_t.Normal,n.baseData=n.baseData||{},n.data=n.data||{},tn(e)&&Q(e,function(e,t){n.data[e]=t}),s.core.track(n)},s.trackPageView=function(e,t){v._recordTimeSpan("dwellTime",!1),T.v=0,i=!1,s.id.initializeIds(),e.id=s.id.getLastPageViewId(),c.sendPageViewInternal(e,t,n(e))},s.capturePageView=function(e,t){u.capturePageView(e,t)},s.trackPageViewPerformance=function(e,t){c.sendPageViewPerformanceInternal(e,t,n(e))},s.capturePageViewPerformance=function(e,t){d.capturePageViewPerformance(e,t)},s.trackException=function(e,t){e.id=e.id||gn(),c.sendExceptionInternal(e,t,n(e))},s.trackPageAction=function(e,t){l.trackPageAction(e,t)},s.capturePageAction=function(e,t,n,i){ro(e,Xo)||l.capturePageAction(e,t,n,i)},s.trackContentUpdate=function(e,t){p.trackContentUpdate(e,t)},s.captureContentUpdate=function(e,t){p.captureContentUpdate(e,t)},s.trackPageUnload=function(e,t){i||(i=!0,f.trackPageUnload(e,t))},s.capturePageUnload=function(e,t){i||(i=!0,f.capturePageUnload(e,t))},s._populatePageViewPerformance=function(e){s._pageViewPerformanceManager.populatePageViewPerformanceEvent(e)},s.setContentHandler=function(e){y=e},s.setAutoCaptureHandler=function(e){I=e}}),m}var Qo,Zo=["snippet","_webAnalytics","_postChannel","_propertyManager","_extensions"],$o=(Qo=zt,__extends(es,Qo),es.prototype.initialize=function(a,o){var s=this,c=this;We(c,function(){return"ApplicationInsights:initialize"},function(){var e=[c._propertyManager,c._webAnalytics];if(o&&(e=e.concat(o)),a.channels&&0<a.channels.length){for(var t=!1,n=0;n<a.channels[0].length;n++)if(a.channels[0][n].identifier===c._postChannel.identifier){t=!0;break}t||a.channels[0].push(c._postChannel)}else a.channels=[[c._postChannel]];var i=a.extensionConfig=a.extensionConfig||[];i[c._postChannel.identifier]=a?a.channelConfiguration:{},i[c._propertyManager.identifier]=a?a.propertyConfiguration:{},i[c._webAnalytics.identifier]=a?a.webAnalyticsConfiguration:{};try{Qo.prototype.initialize.call(s,a,e)}catch(r){c.logger.throwInternal(te.CRITICAL,xt.FailedToInitializeSDK,"Failed to initialize SDK."+r)}},function(){return{config:a,extensions:o}})},es.prototype.getPropertyManager=function(){return this._propertyManager},es.prototype.getPostChannel=function(){return this._postChannel},es.prototype.getWebAnalyticsExtension=function(){return this._webAnalytics},es.prototype.addTelemetryInitializer=function(e){this._webAnalytics.addTelemetryInitializer(e)},es.prototype.trackEvent=function(e,t){this._webAnalytics.trackEvent(e,t)},es.prototype.trackPageView=function(e,t){this._webAnalytics.trackPageView(e,t)},es.prototype.trackPageAction=function(e,t){this._webAnalytics.trackPageAction(e,t)},es.prototype.trackContentUpdate=function(e,t){this._webAnalytics.trackContentUpdate(e,t)},es.prototype.trackPageUnload=function(e,t){this._webAnalytics.trackPageUnload(e,t)},es.prototype.trackException=function(e,t){this._webAnalytics.trackException(e,t)},es.prototype.trackPageViewPerformance=function(e,t){this._webAnalytics.trackPageViewPerformance(e,t)},es.prototype.capturePageView=function(e,t){this._webAnalytics.capturePageView(e,t)},es.prototype.capturePageViewPerformance=function(e,t){this._webAnalytics.capturePageViewPerformance(e,t)},es.prototype.capturePageAction=function(e,t,n,i){this._webAnalytics.capturePageAction(e,t,n,i)},es.prototype.captureContentUpdate=function(e,t){this._webAnalytics.captureContentUpdate(e,t)},es.prototype.capturePageUnload=function(e,t){this._webAnalytics.capturePageUnload(e,t)},es.prototype._onerror=function(e){this._webAnalytics._onerror(e)},es.prototype.emptySnippetQueue=function(n){try{if(n&&($.isNullOrUndefined(this._snippetVersion)||this._snippetVersion,Q(this,function(e,t){$.isString(e)&&!$.isFunction(t)&&e&&"_"!==e[0]&&!~Zo.indexOf(e)&&(n[e]=t)})),Jt(n.queue)){for(var e=n.queue.length,t=0;t<e;t++)(0,n.queue[t])();n.queue=undefined,delete n.queue}}catch(i){i&&Yt(i.toString)&&i.toString()}},es.prototype.updateSnippetDefinitions=function(e){this.snippet=e,this._snippetVersion=""+(e.sv||e.version||""),Z(e,this,function(e){return e&&!~Zo.indexOf(e)})},es);function es(){var e=Qo.call(this)||this;return e._postChannel=new kr,e._propertyManager=new Qi,e._webAnalytics=new Yo,e}!function(){try{var e,t,n,i=y();i&&i[n=i.onedsSDK||"oneDSWeb"]!==undefined&&(e=i[n],(t=new $o).updateSnippetDefinitions(e),t.initialize(e.config,e.extensions),(i[n]=t).emptySnippetQueue(e))}catch(r){console&&console.warn("Failed to initialize AppInsights JS SDK for instance "+n+r.message)}}(),n.ActionType=fo,n.ApplicationInsights=$o,n.BE_PROFILE=tr,n.CoreUtils=$,n.DiagnosticLogger=Me,n.EventLatency=_t,n.EventPersistence={Normal:1,Critical:2},n.EventsDiscardedReason=U,n.MinChannelPriorty=100,n.NRT_PROFILE=er,n.NotificationManager=It,n.PostChannel=kr,n.PropertiesPlugin=Qi,n.RT_PROFILE=$i,n.TraceLevel={NONE:0,ERROR:1,WARNING:2,INFORMATION:3},n.Utils=bn,n.ValueKind=Nt,function(e,t,n){var i=Object.defineProperty;if(i)try{return i(e,t,n)}catch(r){}typeof n.value!==undefined&&(e[t]=n.value)}(n,"__esModule",{value:!0})};"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).oneDS=e.oneDS||{});
//# sourceMappingURL=ms.analytics-web-3.0.2.min.js.map
